<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.2">
<title>Spring Batch Lightmin</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove the comments around the @import statement below when using this as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
body{margin:0}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
#map_canvas img,#map_canvas embed,#map_canvas object,.map_canvas img,.map_canvas embed,.map_canvas object{max-width:none!important}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
.antialiased,body{-webkit-font-smoothing:antialiased}
img{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
.keyseq{color:rgba(51,51,51,.8)}
kbd{display:inline-block;color:rgba(0,0,0,.8);font-size:.75em;line-height:1.4;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:-.15em .15em 0 .15em;padding:.2em .6em .2em .5em;vertical-align:middle;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.05em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.spread{width:100%}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1{padding-right:.75em;font-weight:bold}
td.hdlist1,td.hdlist2{vertical-align:top}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none}
span.footnote,span.footnoteref{vertical-align:super;font-size:.875em}
span.footnote a,span.footnoteref a{text-decoration:none}
span.footnote a:active,span.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em;line-height:1.3;font-size:.875em;margin-left:1.2em;text-indent:-1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
h1,h2{letter-spacing:-.01em}
dt,th.tableblock,td.content{text-rendering:optimizeLegibility}
p,td.content{letter-spacing:-.01em}
p strong,td.content strong{letter-spacing:-.005em}
p,blockquote,dt,td.content{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img{page-break-inside:avoid}
thead{display:table-header-group}
img{max-width:100%!important}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{font-weight: normal}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#00}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Spring Batch Lightmin</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_about">About</a></li>
<li><a href="#_architecture">Architecture</a></li>
<li><a href="#_documentation">Documentation</a></li>
<li><a href="#_samples">Samples</a></li>
<li><a href="#_getting_started">Getting Started</a>
<ul class="sectlevel2">
<li><a href="#_spring_batch_lightmin_bom">Spring Batch Lightmin BOM</a></li>
<li><a href="#_setting_up_the_server">Setting up the Server</a></li>
<li><a href="#_setting_up_a_client">Setting up a Client</a></li>
</ul>
</li>
<li><a href="#_remote_repository_server">Remote Repository Server</a>
<ul class="sectlevel2">
<li><a href="#_maven">Maven</a></li>
<li><a href="#_configuration">Configuration</a></li>
</ul>
</li>
<li><a href="#_embedded_lightmin">Embedded Lightmin</a>
<ul class="sectlevel2">
<li><a href="#_maven_2">Maven</a></li>
<li><a href="#_configuration_2">Configuration</a></li>
</ul>
</li>
<li><a href="#_spring_batch_lightmin_metrics">Spring Batch Lightmin Metrics</a>
<ul class="sectlevel2">
<li><a href="#_enabling_client_metrics">Enabling Client Metrics</a></li>
<li><a href="#_enabling_server_metrics">Enabling Server Metrics</a></li>
<li><a href="#_exposing_metrics_via_actuator">Exposing Metrics via actuator</a></li>
<li><a href="#_modifying_lighmin_metrics">Modifying Lighmin Metrics</a></li>
<li><a href="#_grafana_dashboards">Grafana Dashboards</a></li>
</ul>
</li>
<li><a href="#_server_user_interface">Server User Interface</a>
<ul class="sectlevel2">
<li><a href="#_applications">Applications</a></li>
<li><a href="#_application_instance_dashboard">Application Instance Dashboard</a></li>
<li><a href="#_batch_jobs">Batch Jobs</a></li>
<li><a href="#_batch_job_executions">Batch Job Executions</a></li>
<li><a href="#_job_execution">Job Execution</a></li>
<li><a href="#_job_scheduler">Job Scheduler</a></li>
<li><a href="#_job_listener">Job Listener</a></li>
<li><a href="#_job_launcher">Job Launcher</a></li>
<li><a href="#_job_execution_events">Job Execution Events</a></li>
<li><a href="#_journal">Journal</a></li>
<li><a href="#_server_scheduler_2">Server Scheduler</a></li>
</ul>
</li>
<li><a href="#_server_configuration">Server Configuration</a>
<ul class="sectlevel2">
<li><a href="#_context_path">Context Path</a></li>
<li><a href="#_heartbeat_period">Heartbeat period</a></li>
<li><a href="#_credentials">Credentials</a></li>
<li><a href="#_server_side_auto_discovery">Server Side auto discovery</a></li>
<li><a href="#_server_behind_a_proxy_2">Server behind a Proxy</a></li>
<li><a href="#_custom_ui_logo_and_text">Custom UI Logo and Text</a></li>
<li><a href="#_server_metrics">Server Metrics</a></li>
<li><a href="#_server_scheduler_3">Server Scheduler</a></li>
</ul>
</li>
<li><a href="#_client_configuration">Client Configuration</a>
<ul class="sectlevel2">
<li><a href="#_core">Core</a></li>
<li><a href="#_classic_client">Classic Client</a></li>
<li><a href="#_discovery_client">Discovery Client</a></li>
</ul>
</li>
<li><a href="#_job_configuration_repository_configuration">Job Configuration Repository Configuration</a>
<ul class="sectlevel2">
<li><a href="#_jdbc_configuration_repository">Jdbc Configuration Repository</a></li>
<li><a href="#_remote_configuration_repository">Remote Configuration Repository</a></li>
</ul>
</li>
<li><a href="#_batch_configuration">Batch Configuration</a>
<ul class="sectlevel2">
<li><a href="#_repository_type">Repository Type</a></li>
<li><a href="#_jdbc_jobrepository_configuration">Jdbc JobRepository Configuration</a></li>
</ul>
</li>
<li><a href="#_job_configurations">Job Configurations</a>
<ul class="sectlevel2">
<li><a href="#_anatomy_of_a_job_configuration">Anatomy of a Job Configuration</a></li>
<li><a href="#_jobconfiguration_repository">JobConfiguration Repository</a></li>
</ul>
</li>
<li><a href="#_spring_batch_lightmin_metrics_2">Spring Batch Lightmin Metrics</a>
<ul class="sectlevel2">
<li><a href="#_enabling_client_metrics_2">Enabling Client Metrics</a></li>
<li><a href="#_enabling_server_metrics_2">Enabling Server Metrics</a></li>
<li><a href="#_exposing_metrics_via_actuator_2">Exposing Metrics via actuator</a></li>
<li><a href="#_modifying_lighmin_metrics_2">Modifying Lighmin Metrics</a></li>
<li><a href="#_grafana_dashboards_2">Grafana Dashboards</a></li>
</ul>
</li>
<li><a href="#_rest_api">REST API</a>
<ul class="sectlevel2">
<li><a href="#_server">Server</a></li>
<li><a href="#_client">Client</a></li>
<li><a href="#_remote_repository_2">Remote Repository</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_about">About</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>Spring Batch Lightmin</em> is a client/server batch and scheduling platform for the <em>Spring Boot</em> stack.
The batch stack based on <em>Spring Batch</em>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_architecture">Architecture</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="images/lightmin_architecture.001.jpeg" alt="lightmin architecture.001">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_documentation">Documentation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The full documentation can be found at</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://htmlpreview.github.io/?https://github.com/tuxdevelop/spring-batch-lightmin/blob/2.2.x/spring-batch-lightmin-documentation/src/main/doc/spring_batch_lightmin.html">2.2.x</a> (Spring Boot 2.4.x)</p>
</li>
<li>
<p><a href="http://htmlpreview.github.io/?https://github.com/tuxdevelop/spring-batch-lightmin/blob/2.1.x/spring-batch-lightmin-documentation/src/main/doc/spring_batch_lightmin.html">2.1.x</a> (Spring Boot 2.2.x, 2.3.x)</p>
</li>
<li>
<p><a href="http://htmlpreview.github.io/?https://github.com/tuxdevelop/spring-batch-lightmin/blob/2.0.x/spring-batch-lightmin-documentation/src/main/doc/spring_batch_lightmin.html">2.0.x</a> (Spring Boot 2.1.x)</p>
</li>
<li>
<p><a href="http://htmlpreview.github.io/?https://github.com/tuxdevelop/spring-batch-lightmin/blob/1.0.x/spring-batch-lightmin-documentation/src/main/doc/spring_batch_lightmin.html">1.x</a> (Spring Boot 1.5.x) - End of life</p>
</li>
<li>
<p><a href="http://htmlpreview.github.io/?https://github.com/tuxdevelop/spring-batch-lightmin/blob/0.5.x/spring-batch-lightmin-documentation/src/main/doc/spring_batch_lightmin.html">0.5.x</a> (old design - Spring Boot 1.5.x) - End of life</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_samples">Samples</h2>
<div class="sectionbody">
<div class="paragraph">
<p>All samples for <em>Spring Batch Lightmin</em> can be found at <a href="https://github.com/tuxdevelop/spring-batch-lightmin-samples">Sample Applications</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_getting_started">Getting Started</h2>
<div class="sectionbody">
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>Spring 5.1.x set the the property <em>spring.main.allow-bean-definition-overriding</em> to <strong>false</strong> as a default.
In order to use the current version of Spring Batch Lightmin, this property has to be set to <strong>true</strong>.</p>
</div>
<div class="paragraph">
<p>This issue can hopefully be solved in the upcoming releases.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following section describes a quick start guide to setup the client server architecture.
If your want to get an overview of the configuration options, please read the documentation.
The getting started guide for the <em>Embedded Mode</em> can be found in the section <em>Embedded Lightmin</em>.</p>
</div>
<div class="sect2">
<h3 id="_spring_batch_lightmin_bom">Spring Batch Lightmin BOM</h3>
<div class="paragraph">
<p>Add the <em>Spring Batch Lightmin BOM</em> to the dependency management section of your project.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependency&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>org.tuxdevelop<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>spring-batch-lightmin-bom<span class="tag">&lt;/artifactId&gt;</span>
    <span class="tag">&lt;version&gt;</span>${spring-batch-lightmin.version}<span class="tag">&lt;/version&gt;</span>
    <span class="tag">&lt;type&gt;</span>pom<span class="tag">&lt;/type&gt;</span>
    <span class="tag">&lt;scope&gt;</span>import<span class="tag">&lt;/scope&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_setting_up_the_server">Setting up the Server</h3>
<div class="paragraph">
<p>The server is the component which is used to configure clients and schedule jobs.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>The server can be operated in standalone and cluster mode.
The standalone mode does not support any synchronisation between multiple cluster instances.
Also the server cluster scheduler are working totally independent from each other in standalone mode.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The server itself is also a <em>Spring Boot</em> application.</p>
</div>
<div class="sect3">
<h4 id="_maven_dependencies">Maven Dependencies</h4>
<div class="sect4">
<h5 id="_standalone">Standalone</h5>
<div class="paragraph">
<p>The following dependency has to added to your project.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependency&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>org.tuxdevelop<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>spring-batch-lightmin-server-standalone<span class="tag">&lt;/artifactId&gt;</span>
    <span class="tag">&lt;version&gt;</span>${spring-batch-lightmin.version}<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_cluster">Cluster</h5>
<div class="paragraph">
<p>The project currently provides one cluster implementation based on <em>Infinispan</em>.</p>
</div>
<div class="sect5">
<h6 id="_infinispan">Infinispan</h6>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependency&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>org.tuxdevelop<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>spring-batch-lightmin-server-cluster-infinispan<span class="tag">&lt;/artifactId&gt;</span>
    <span class="tag">&lt;version&gt;</span>${spring-batch-lightmin.version}<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enable_the_server">Enable the Server</h4>
<div class="paragraph">
<p>In order to enable the server, the annotation <em>@EnableLightminServer</em> has to added to one of the <em>@Configuration</em> classes.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@EnableLightminServer</span>
<span class="annotation">@SpringBootApplication</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">LightminServer</span> {

}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enable_the_cluster">Enable the Cluster</h4>
<div class="paragraph">
<p>If you added the cluster dependencies the following actions have to be done:</p>
</div>
<div class="sect4">
<h5 id="_infinispan_2">Infinispan</h5>
<div class="paragraph">
<p>In order to enable the server, the annotation <em>@EnableLightminServer</em> has to added to one of the <em>@Configuration</em> classes.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@EnableLightminServer</span>
<span class="annotation">@EnableServerClusterInfinispan</span>
<span class="annotation">@SpringBootApplication</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">LightminServer</span> {

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <em>Infinispan</em> cluster configuration will provide the following clustered features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Synchronized poller for server scheduler and clean up jobs</p>
</li>
<li>
<p>LightminServerLockManager implenentation for Infinispan</p>
</li>
<li>
<p>Distributed Repositories for</p>
<div class="ulist">
<ul>
<li>
<p>JobExecutionEventRepository</p>
</li>
<li>
<p>JournalRepository</p>
</li>
<li>
<p>LightminApplicationRepository</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the following properties are set to true, additional distributed repositories will be provided:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">server</span>:
        <span class="key">cluster</span>:
          <span class="key">infinispan</span>:
            <span class="key">repository</span>:
              <span class="key">init-scheduler-configuration-repository</span>: <span class="string"><span class="content">true</span></span> <span class="comment"># default false </span><b class="conum">(1)</b>
              <span class="key">init-scheduler-execution-repository</span>: <span class="string"><span class="content">true</span></span> <span class="comment"># default false </span> <b class="conum">(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>if true, a distributed <em>SchedulerConfigurationRepository</em> will be provided</p>
</li>
<li>
<p>if true, a distributed <em>SchedulerExecutionRepository</em> will be provided</p>
</li>
</ol>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>It is highly recommended to use persistent repositories for <em>SchedulerConfigurationRepository</em> and <em>SchedulerExecutionRepository</em> like the <em>JDBC</em> repositories.
The distributed repositories will contain the stored values as long as one cluster member is up and running.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect5">
<h6 id="_infinispan_global_configuration">Infinispan Global Configuration</h6>
<div class="paragraph">
<p>In order to use the infinispan cluster, a <em>GlobalConfiguration</em> has to be provided.
The documentation of <em>Infinispan</em> and <em>jGroups</em> will give you insides how to configure it for your need.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Configuration</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">MyConfiguration</span> {

    <span class="annotation">@Bean</span>
    <span class="directive">public</span> GlobalConfiguration globalConfiguration() {
        <span class="keyword">return</span> <span class="keyword">new</span> GlobalConfigurationBuilder()
                <span class="comment">// Configure the global configuration</span>
                .build();
    }

}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_server_scheduler">Server Scheduler</h4>
<div class="paragraph">
<p>Since lightmin version <em>2.1.1</em> the server provides a scheduler to trigger jobs at the clients.
In order to provide this feature, the scheduler configurations and executions have to be stored.</p>
</div>
<div class="paragraph">
<p>The <em>SchedulerConfigurationRepository</em> and <em>SchedulerExecutionRepository</em> are responsible for the doing the job.
Per dafault, the <em>standalone server</em> will configure inmemory repositories, which are cleared after each restart.</p>
</div>
<div class="sect4">
<h5 id="_configuration_properties">Configuration Properties</h5>
<div class="paragraph">
<p>The behavior of the <em>Server Scheduler</em> can be changed via application properties.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">server</span>:
        <span class="key">scheduler</span>:
          <span class="key">enabled</span>: <span class="string"><span class="content">true</span></span> <span class="comment"># default true </span><b class="conum">(1)</b>
          <span class="key">create-new-executions-on-failure</span>: <span class="string"><span class="content">false</span></span> <span class="comment"># default false </span><b class="conum">(2)</b>
          <span class="key">create-new-executions-on-lost</span>: <span class="string"><span class="content">false</span></span> <span class="comment"># default false </span><b class="conum">(3)</b>
          <span class="key">fail-on-instance-execution-count</span>: <span class="string"><span class="content">true</span></span> <span class="comment"># default true </span><b class="conum">(4)</b>
          <span class="key">poller-period</span>: <span class="string"><span class="content">1000</span></span> <span class="comment"># default 1000 </span><b class="conum">(5)</b>
          <span class="key">poller-period-retry</span>: <span class="string"><span class="content">1000</span></span> <span class="comment"># default 1000 </span><b class="conum">(6)</b>
          <span class="key">repository</span>:
            <span class="key">delete-poller-period</span>: <span class="string"><span class="content">PT10m</span></span> <span class="comment"># default 10 minutes </span><b class="conum">(7)</b>
            <span class="key">delete-failed</span>:  <span class="string"><span class="content">true</span></span> <span class="comment"># default true </span><b class="conum">(8)</b>
            <span class="key">delete-finished</span>: <span class="string"><span class="content">true</span></span> <span class="comment"># default true </span><b class="conum">(9)</b>
            <span class="key">delete-lost</span>: <span class="string"><span class="content">true</span></span> <span class="comment"># default true </span><b class="conum">(10)</b>
            <span class="key">keep-failed</span>: <span class="string"><span class="content">PT24h</span></span> <span class="comment"># default 24 hours </span><b class="conum">(11)</b>
            <span class="key">keep-finished</span>: <span class="string"><span class="content">PT24h</span></span>  <span class="comment"># default 24 hours </span><b class="conum">(12)</b>
            <span class="key">keep-lost</span>: <span class="string"><span class="content">PT24h</span></span>  <span class="comment"># default 24 hours </span> <b class="conum">(13)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>If set to false, no schedulers will be executed</p>
</li>
<li>
<p>If set to true, a new executions based on the configuration will be created on failure.</p>
</li>
<li>
<p>If set to true, a new executions based on the configuration will be created on lost after configured retries failed.</p>
</li>
<li>
<p>If true, the execution will fail if not enough instances are available.</p>
</li>
<li>
<p>Time in millis to fetch new executions to be executed by the scheduler</p>
</li>
<li>
<p>Time in millis to fetch executions to be retried by the scheduler</p>
</li>
<li>
<p>Duration of the clean up poller for the repositories</p>
</li>
<li>
<p>If set to true, the failed executions will be deleted automatically.</p>
</li>
<li>
<p>If set to true, the finished executions will be deleted automatically.</p>
</li>
<li>
<p>If set to true, the lost executions will be deleted automatically.</p>
</li>
<li>
<p>Duration how long failed executions should be kept before getting deleted automatically.</p>
</li>
<li>
<p>Duration how long finished executions should be kept before getting deleted automatically.</p>
</li>
<li>
<p>Duration how long lost executions should be kept before getting deleted automatically.</p>
</li>
</ol>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>The properties</p>
</div>
<div class="literalblock">
<div class="content">
<pre>create-new-executions-on-failure: false</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>create-new-executions-on-lost: false</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>fail-on-instance-execution-count: true</pre>
</div>
</div>
<div class="paragraph">
<p>are global properties.
There is the possibility that future releases will support this configuration option per execution.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_server_scheduler_jdbc_repositories">Server Scheduler Jdbc Repositories</h5>
<div class="paragraph">
<p>The database schema for the repositories are available in the dependency at <em>org.tuxdevelop.spring.batch.lightmin.server.scheduler.repository</em></p>
</div>
<div class="sect5">
<h6 id="_maven_dependency">Maven Dependency</h6>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependency&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>org.tuxdevelop<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>spring-batch-lightmin-server-scheduler-repository-jdbc<span class="tag">&lt;/artifactId&gt;</span>
    <span class="tag">&lt;version&gt;</span>${spring-batch-lightmin.version}<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_enable_the_jdbc_repository">Enable the JDBC Repository</h6>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@EnableLightminServer</span>
<span class="annotation">@EnableServerSchedulerJdbcRepository</span>
<span class="annotation">@SpringBootApplication</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">MyApplication</span> {
    ...
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_service_discovery">Service Discovery</h4>
<div class="paragraph">
<p>Depending on the clients, the server is also able to find the clients via service discovery.</p>
</div>
<div class="paragraph">
<p>To enable the feature, a <em>DiscoveryClient</em> implementation has to added and configured(e.g. Consul, Eureka, etc&#8230;&#8203;) and the following property has to set to true</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring:</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">server</span>:
        <span class="key">discovery-enabled</span>: <span class="string"><span class="content">true</span></span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_server_behind_a_proxy">Server behind a Proxy</h4>
<div class="paragraph">
<p>The server frontend uses redirects and the <em>HOST</em> header is taken to create the redirect urls.
This is the default behaviour of Spring MVC.
If the server frontend is running behind a proxy, the implementation of the server takes care, that the <em>X-FORWARD-PREFIX</em> header is used as well.</p>
</div>
<div class="paragraph">
<p>If the proxy cannot pass the <em>HOST</em> header or you do not want to change the defaults, e.g. <em>Zuul</em>, the following property can force the server to use the <em>X-FORWARDED-HOST</em> header to build the redirect urls.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">server</span>:
        <span class="key">use-x-forwarded-headers</span>: <span class="string"><span class="content">true</span></span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_setting_up_a_client">Setting up a Client</h3>
<div class="paragraph">
<p>The client applications are responsible to provide <em>Spring Batch Job</em> definitions.
The <em>Spring Batch Lightmin</em> client framework provides all the configurations to set up <em>Spring Batch</em> and the communication with the server.</p>
</div>
<div class="sect3">
<h4 id="_step_one_client_type">Step one - Client type</h4>
<div class="paragraph">
<p>The type of the client decides how the registration to the server should be done.
Currently to types are supported, classic and via service discovery.</p>
</div>
<div class="sect4">
<h5 id="_classic">Classic</h5>
<div class="paragraph">
<p>The classic client has to know where the servers are located and will send a registration request after the start up.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependency&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>org.tuxdevelop<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>spring-batch-lightmin-client-classic<span class="tag">&lt;/artifactId&gt;</span>
    <span class="tag">&lt;version&gt;</span>${spring-batch-lightmin.version}<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The dependency above will provide everything which is required for the classic client.
The annotation <em>@EnableLightminClientClassic</em> has to added to one of the configuration classes.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@SpringBootApplication</span>
<span class="annotation">@EnableLightminClientClassic</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">ClientApplication</span> {

    <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="directive">final</span> <span class="predefined-type">String</span><span class="type">[]</span> args) {
        SpringApplication.run(ClientApplication.class, args);
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following configuration properties have to be present</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">application</span>:
    <span class="key">name</span>: <span class="string"><span class="content">my-client-application </span></span><b class="conum">(1)</b>
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">client</span>:
        <span class="key">classic</span>:
          <span class="key">server</span>:
            <span class="key">url</span>: <span class="string"><span class="content">http://myserver1.domain:8180, http://myserver2.domain:8180 </span></span> <b class="conum">(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>The <em>spring.application.name</em> is used to identify a client and handle a cluster of the instances.</p>
</li>
<li>
<p>The <em>url</em> property is a list of server to which the registration request should be send.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_service_discovery_2">Service Discovery</h5>
<div class="paragraph">
<p><em>Spring Batch Lightmin</em> provides two implementations for the discovery client type.
Both implementations add a tags to the underlying service discovery technology, so the server could identify lightmin clients.</p>
</div>
<div class="sect5">
<h6 id="_consul_client">Consul Client</h6>
<div class="paragraph">
<p>The following dependency has to added for the consul client</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependency&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>org.tuxdevelop<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>spring-batch-lightmin-client-discovery-consul<span class="tag">&lt;/artifactId&gt;</span>
    <span class="tag">&lt;version&gt;</span>${spring-batch-lightmin.version}<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The annotation <em>@EnableLightminClientConsul</em> enables the fully integration with Consul.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@SpringBootApplication</span>
<span class="annotation">@EnableLightminClientConsul</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">ClientApplication</span> {

    <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="directive">final</span> <span class="predefined-type">String</span><span class="type">[]</span> args) {
        SpringApplication.run(ClientApplication.class, args);
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The configuration options for Consul can be found in the <em>Spring Cloud Consul</em> documentation.</p>
</div>
<div class="paragraph">
<p>The client is sending per default events to the server, in order to find the server via service discovery, the following property has to be set.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">client</span>:
        <span class="key">discovery</span>:
          <span class="key">server-discovery-name</span>: <span class="string"><span class="content">lightmin-server </span></span> <b class="conum">(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>The service discovery name of the server.</p>
</li>
</ol>
</div>
</div>
<div class="sect5">
<h6 id="_eureka_client">Eureka Client</h6>
<div class="paragraph">
<p>The following dependency has to added for the eureka client</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependency&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>org.tuxdevelop<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>spring-batch-lightmin-client-discovery-eureka<span class="tag">&lt;/artifactId&gt;</span>
    <span class="tag">&lt;version&gt;</span>${spring-batch-lightmin.version}<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The annotation <em>@EnableLightminClientEureka</em> enables the fully integration with Eureka.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@SpringBootApplication</span>
<span class="annotation">@EnableLightminClientEureka</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">ClientApplication</span> {

    <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="directive">final</span> <span class="predefined-type">String</span><span class="type">[]</span> args) {
        SpringApplication.run(ClientApplication.class, args);
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The configuration options for Eureka can be found in the <em>Spring Cloud Netflix</em> documentation.</p>
</div>
<div class="paragraph">
<p>The client is sending per default events to the server, in order to find the server via service discovery, the following property has to be set.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">client</span>:
        <span class="key">discovery</span>:
          <span class="key">server-discovery-name</span>: <span class="string"><span class="content">lightmin-server </span></span> <b class="conum">(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>The service discovery name of the server.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_step_two_the_configuration_repository">Step two - The Configuration Repository</h4>
<div class="paragraph">
<p>The <em>Configuration Repository</em> is the component which stores the scheduler and listener configurations of the lightmin clients.
This configurations are loaded at start time and can be managed with the server frontend or API calls.</p>
</div>
<div class="paragraph">
<p><em>Spring Batch Lightmin</em> provides three implementation of the repository</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>map</strong> - In memory repository, all changes will be gone after a restart.</p>
</li>
<li>
<p><strong>jdbc</strong> - The client fetches and stores the configurations in a database.</p>
</li>
<li>
<p><strong>remote</strong> - The client fetches and stores the configurations via API calls to a repository server.</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="_map_repository">Map Repository</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependency&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>org.tuxdevelop<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>spring-batch-lightmin-repository-map<span class="tag">&lt;/artifactId&gt;</span>
    <span class="tag">&lt;version&gt;</span>${spring-batch-lightmin.version}<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The annotation <em>@EnableLightminMapConfigurationRepository</em> enables the in memory repository.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@SpringBootApplication</span>
<span class="annotation">@EnableLightminClientConsul</span>
<span class="annotation">@EnableLightminMapConfigurationRepository</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">ClientApplication</span> {

    <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="directive">final</span> <span class="predefined-type">String</span><span class="type">[]</span> args) {
        SpringApplication.run(ClientApplication.class, args);
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_jdbc_repository">Jdbc Repository</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependency&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>org.tuxdevelop<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>spring-batch-lightmin-repository-jdbc<span class="tag">&lt;/artifactId&gt;</span>
    <span class="tag">&lt;version&gt;</span>${spring-batch-lightmin.version}<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The annotation <em>@EnableLightminJdbcConfigurationRepository</em> enables the jdbc repository.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@SpringBootApplication</span>
<span class="annotation">@EnableLightminClientConsul</span>
<span class="annotation">@EnableLightminJdbcConfigurationRepository</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">ClientApplication</span> {

    <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="directive">final</span> <span class="predefined-type">String</span><span class="type">[]</span> args) {
        SpringApplication.run(ClientApplication.class, args);
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The jdbc repository requires a configured datasource bean with the name <em>dataSource</em>.</p>
</div>
<div class="paragraph">
<p>If the project configuration requires a specific datasource for the lightmin repository, the bean name can set via configuration property.
More configuration options can be found in the documentation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">repository</span>:
        <span class="key">jdbc</span>:
          <span class="key">data-source-name</span>: <span class="string"><span class="content">myDataSource </span></span> <b class="conum">(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Overriding the default datasource name.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The database schema ddl and drop scripts for various databases are located in the dependency above under the path:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="error">org/tuxdevelop/spring/batch/lightmin/repository</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_remote_repository">Remote Repository</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependency&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>org.tuxdevelop<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>spring-batch-lightmin-repository-remote<span class="tag">&lt;/artifactId&gt;</span>
    <span class="tag">&lt;version&gt;</span>${spring-batch-lightmin.version}<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The annotation <em>@EnableLightminRemoteConfigurationRepository</em> enables the remote repository.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@SpringBootApplication</span>
<span class="annotation">@EnableLightminClientConsul</span>
<span class="annotation">@EnableLightminRemoteConfigurationRepository</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">ClientApplication</span> {

    <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="directive">final</span> <span class="predefined-type">String</span><span class="type">[]</span> args) {
        SpringApplication.run(ClientApplication.class, args);
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The remote repository can be located via url and service discovery.</p>
</div>
<div class="paragraph">
<p>For the url way, the following properties has to be set:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">  <span class="key">spring</span>:
    <span class="key">batch</span>:
      <span class="key">lightmin</span>:
        <span class="key">repository</span>:
          <span class="key">remote</span>:
            <span class="key">server-url</span>: <span class="string"><span class="content">http://my-server.domain:8280 </span></span> <b class="conum">(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>The url to the remote repository server</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>For the service discovery approach, the following properties has to set and a <em>DiscoveryClient</em> bean has to be present.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">  <span class="key">spring</span>:
    <span class="key">batch</span>:
      <span class="key">lightmin</span>:
        <span class="key">repository</span>:
          <span class="key">remote</span>:
            <span class="key">discover-remote-repository</span>: <span class="string"><span class="content">true </span></span><b class="conum">(1)</b>
            <span class="key">server-discovery-name</span>: <span class="string"><span class="content">remoteRepositorySever </span></span> <b class="conum">(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Enables the discovery feature</p>
</li>
<li>
<p>The discovery name of the remote repository server</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Further configuration options can be found in the documentation.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_step_three_configure_spring_batch">Step three - Configure Spring Batch</h4>
<div class="paragraph">
<p>The client configurations are enabling the <em>Spring Batch</em> stack as well.
<em>Spring Batch</em> itself has to have a configured <em>JobRepository</em>.
This <em>JobRepository</em> can be in memory via map or jdbc.</p>
</div>
<div class="paragraph">
<p>The configuration of the <em>JobRepository</em> can be done via properties, so <em>Spring Batch Lightmin</em> knows what to configure.</p>
</div>
<div class="sect4">
<h5 id="_map_jobrepository">Map JobRepository</h5>
<div class="paragraph">
<p>For the map repository, the following configuration is enough:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">batch</span>:
        <span class="key">repository-type</span>: <span class="string"><span class="content">map</span></span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_jdbc_repository_2">Jdbc Repository</h5>
<div class="paragraph">
<p>For the jdbc repository, the following configuration is enough:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">batch</span>:
        <span class="key">repository-type</span>: <span class="string"><span class="content">jdbc</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Properties like dataSource name, table prefix etc. can be overridden as well.
Please check the documentation for more details.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_clients_in_containers">Clients in Containers</h4>
<div class="paragraph">
<p>If a client runs inside a container like <em>Docker</em>, the dns name of the host systems has to be transferred to server on registration time.
For this use case, a property is available.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">client</span>:
        <span class="key">hostname</span>: <span class="string"><span class="content">FQDN of the host</span></span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_lightmin_client_and_jpa">Lightmin Client and JPA</h4>
<div class="paragraph">
<p>If your clients uses JPA, the following annotation is required to initialize the <em>JPA</em> specific <em>Lightmin BatchConfigurer</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Configuration</span>
<span class="annotation">@EnableLightminBatchJpa</span> <b class="conum">(1)</b>
<span class="directive">public</span> <span class="type">class</span> <span class="class">MyConfiguration</span> {

}</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>@EnableLightminBatchJpa configures the JPA specific BatchConfigurer</p>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_remote_repository_server">Remote Repository Server</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <em>Remote Repository Server</em> is a <em>Spring Boot</em> application which provides a REST API for clients.</p>
</div>
<div class="paragraph">
<p>The server itself needs a job configuration repository itself.
The server supports map and jdbc.</p>
</div>
<div class="sect2">
<h3 id="_maven">Maven</h3>
<div class="paragraph">
<p>For the Jdbc repository, the following dependencies have to be added.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependency&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>org.tuxdevelop<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>spring-batch-lightmin-repository-server<span class="tag">&lt;/artifactId&gt;</span>
    <span class="tag">&lt;version&gt;</span>${spring-batch-lightmin.version}<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;/dependency&gt;</span>

<span class="tag">&lt;dependency&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>org.tuxdevelop<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>spring-batch-lightmin-repository-jdbc<span class="tag">&lt;/artifactId&gt;</span>
    <span class="tag">&lt;version&gt;</span>${spring-batch-lightmin.version}<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configuration">Configuration</h3>
<div class="paragraph">
<p>The configuration of the used repository can be found in the client section.</p>
</div>
<div class="paragraph">
<p>The annotation <em>@EnableLightminRepositoryServer</em> enables the server and the corresponding annotation the <em>job configuration repository</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@SpringBootApplication</span>
<span class="annotation">@EnableLightminRepositoryServer</span>
<span class="annotation">@EnableLightminJdbcConfigurationRepository</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">RepositoryServerApplication</span> {

    <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="directive">final</span> <span class="predefined-type">String</span><span class="type">[]</span> args) {
        SpringApplication.run(RepositoryServerApplication.class, args);
    }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_embedded_lightmin">Embedded Lightmin</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If the client server architecture does not fit the requirements, <em>Spring Batch Lightmin</em> also provides am embedded mode, which ships the client and server in one package.</p>
</div>
<div class="sect2">
<h3 id="_maven_2">Maven</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependency&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>org.tuxdevelop<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>spring-batch-lightmin-embedded<span class="tag">&lt;/artifactId&gt;</span>
    <span class="tag">&lt;version&gt;</span>${spring-batch-lightmin.version}<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configuration_2">Configuration</h3>
<div class="paragraph">
<p>In this case, a specific client does not have to be configured.
The <em>Job Configuration Repository</em> and <em>Spring Batch</em> have to be configured like for a regular client.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@SpringBootApplication</span>
<span class="annotation">@EnableLightminEmbedded</span>
<span class="annotation">@EnableLightminMapConfigurationRepository</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">EmbeddedLightminApplication</span> {

    <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="directive">final</span> <span class="predefined-type">String</span><span class="type">[]</span> args) {
        SpringApplication.run(EmbeddedLightminApplication.class, args);
    }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">batch</span>:
        <span class="key">repository-type</span>: <span class="string"><span class="content">map</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_spring_batch_lightmin_metrics">Spring Batch Lightmin Metrics</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Lightmin Metrics introduces some custom metrics for the Lightmin-Platform.
It uses Micrometer to collect metrics.
The metrics are available for client and server applications.</p>
</div>
<div class="sect2">
<h3 id="_enabling_client_metrics">Enabling Client Metrics</h3>
<div class="paragraph">
<p>In order to collect metrics of a <em>Lightmin</em> client application, the following property has to be to <em>true</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
    <span class="key">batch</span>:
        <span class="key">lightmin</span>:
            <span class="key">client</span>:
                <span class="key">metrics-enabled</span>: <span class="string"><span class="content">true</span></span> <span class="comment"># default true</span></code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>If you want to use runtime information of a client on a server, the following property has to be set to true.
The information send will be transformed to metrics on the server, if the sever metrics feature is enabled.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
    <span class="key">batch</span>:
        <span class="key">lightmin</span>:
            <span class="key">client</span>:
                <span class="key">publish-job-events</span>: <span class="string"><span class="content">true</span></span> <span class="comment"># default true</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_enabling_server_metrics">Enabling Server Metrics</h3>
<div class="paragraph">
<p>In order to collect metrics of a <em>Lightmin</em> server , the following property has to be set to <em>true</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
    <span class="key">batch</span>:
        <span class="key">lightmin</span>:
            <span class="key">server</span>:
                <span class="key">metrics-enabled</span>: <span class="string"><span class="content">true</span></span> <span class="comment"># default true</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_exposing_metrics_via_actuator">Exposing Metrics via actuator</h3>
<div class="paragraph">
<p>In order to expose the collected metrics, a <em>Micrometer</em> registry dependencies has to be added to the client and the server.</p>
</div>
<div class="paragraph">
<p>For prometheus, the following dependencies has to be added</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependency&gt;</span>
  <span class="tag">&lt;groupId&gt;</span>io.micrometer<span class="tag">&lt;/groupId&gt;</span>
  <span class="tag">&lt;artifactId&gt;</span>micrometer-registry-prometheus<span class="tag">&lt;/artifactId&gt;</span>
  <span class="tag">&lt;version&gt;</span>${micrometer.version}<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>The lightmin dependencies do not provide any registries out of the box</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_modifying_lighmin_metrics">Modifying Lighmin Metrics</h3>
<div class="paragraph">
<p>Metrics will be published over prometheus actuator and can be modified by adding MeterFilter into the metrics configuration.
Refer to Micrometer Documentation for more information.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Configuration</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">Config</span>{

<span class="directive">final</span> <span class="directive">static</span> <span class="predefined-type">String</span> name = <span class="string"><span class="delimiter">&quot;</span><span class="content">EXAMPLE</span><span class="delimiter">&quot;</span></span>;

<span class="annotation">@Bean</span>
<span class="directive">public</span> MeterRegistryCustomizer&lt;MeterRegistry&gt; metricsCommonTags() {
        <span class="keyword">return</span> registry -&gt; {
            <span class="keyword">if</span> (name != <span class="predefined-constant">null</span>) {
                registry.config().meterFilter(
                        <span class="keyword">new</span> MeterFilter() {
                            <span class="annotation">@Override</span>
                            <span class="directive">public</span> DistributionStatisticConfig configure(Meter.Id id, DistributionStatisticConfig config) {
                                <span class="keyword">if</span> (id.getName().startsWith(<span class="string"><span class="delimiter">&quot;</span><span class="content">lightmin</span><span class="delimiter">&quot;</span></span>)) {
                                    <span class="comment">// Example Filter - Activating histogram on all lightmin metrics</span>
                                    <span class="keyword">return</span> DistributionStatisticConfig.builder().percentilesHistogram(<span class="predefined-constant">true</span>)
                                            .percentiles(<span class="float">0.95</span>)
                                            .build()
                                            .merge(config);
                                }
                                <span class="keyword">return</span> config;
                            }
                        })
                        .commonTags(<span class="string"><span class="delimiter">&quot;</span><span class="content">example_tag</span><span class="delimiter">&quot;</span></span>, name);
            }
        };
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_grafana_dashboards">Grafana Dashboards</h3>
<div class="paragraph">
<p>Lightmin Metrics introduces prebuild Grafana Dashboards for server and client.
The json files are available in the resources folder of the lightmin-metrics project.
In order to use the plugin, please install the following Plugins:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Statusmap by Flant JSC</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_lightmin_dashboard">Lightmin Dashboard</h4>
<div class="paragraph">
<p>The <em>Spring Batch Lightmin</em> Dashboard provides information about all Lightmin clients which are configured as target in Prometheus.
The following variables are available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Service - taken from the tag <em>APPLICATION_NAME</em> (Lightmin Clients should be listed here)</p>
</li>
<li>
<p>Job Name - Name of all jobs, or all jobs of the selected <em>Services</em></p>
</li>
<li>
<p>Job Count Interval - Time period for the overall <em>SUCCESSFUL</em> and <em>FAILED</em> overview</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/grafana_all.png" alt="grafana all">
</div>
</div>
<div class="paragraph">
<p>If a specific Job Name is selected, the details about the job and step execution will be displayed.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/grafana_job.png" alt="grafana job">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_lightmin_server_dashboard">Lightmin Server Dashboard</h4>
<div class="paragraph">
<p>The Server Dashboard provides an overview of all Job Executions, which are send from the clients to the server.
The Lightmin server(s) should be configured as target in Prometheus.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/grafana_server_all.png" alt="grafana server all">
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>The boards require a Prometheus datasource.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_server_user_interface">Server User Interface</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_applications">Applications</h3>
<div class="paragraph">
<p>The start page of the <em>SpringBatchLightmin</em> shows all register applications.
The status icon shows the current health status of the application.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/applications.png" alt="applications">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_application_instance_dashboard">Application Instance Dashboard</h3>
<div class="paragraph">
<p>The application dashboard is the entry point to the monitoring and administration of a client application instance.
The overview shows the important endpoints, all known <em>Spring Batch Jobs</em> and configured external links of the client application.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/dashboard.png" alt="dashboard">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_batch_jobs">Batch Jobs</h3>
<div class="paragraph">
<p>The batch jobs overview shows all registered batch jobs of the application instance and the execution count of them.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/batch-jobs.png" alt="batch jobs">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_batch_job_executions">Batch Job Executions</h3>
<div class="paragraph">
<p>The view shows an overview of all executions for the selected job.
To get details of the job execution, click on the desired id.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/batch-job.png" alt="batch job">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_job_execution">Job Execution</h3>
<div class="paragraph">
<p>The job execution view shows you a detailed overview about the job and step executions of the selected job execution.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/job-execution.png" alt="job execution">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_job_scheduler">Job Scheduler</h3>
<div class="paragraph">
<p><em>Job Scheduler Configurations</em> are cron or time based scheduler.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/scheduler.png" alt="scheduler">
</div>
</div>
<div class="sect3">
<h4 id="_add_job_scheduler_configuration">Add Job Scheduler Configuration</h4>
<div class="sect4">
<h5 id="_period_scheduler">Period Scheduler</h5>
<div class="imageblock">
<div class="content">
<img src="images/scheduler-period-add.png" alt="scheduler period add">
</div>
</div>
</div>
<div class="sect4">
<h5 id="_cron_scheduler">Cron Scheduler</h5>
<div class="imageblock">
<div class="content">
<img src="images/scheduler-cron-add.png" alt="scheduler cron add">
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_job_listener">Job Listener</h3>
<div class="imageblock">
<div class="content">
<img src="images/listener.png" alt="listener">
</div>
</div>
<div class="sect3">
<h4 id="_add_job_listener_configuration">Add Job Listener configuration</h4>
<div class="imageblock">
<div class="content">
<img src="images/listener-add.png" alt="listener add">
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_job_launcher">Job Launcher</h3>
<div class="imageblock">
<div class="content">
<img src="images/job-launcher.png" alt="job launcher">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_job_execution_events">Job Execution Events</h3>
<div class="imageblock">
<div class="content">
<img src="images/job-execution-events.png" alt="job execution events">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_journal">Journal</h3>
<div class="imageblock">
<div class="content">
<img src="images/journal.png" alt="journal">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_server_scheduler_2">Server Scheduler</h3>
<div class="sect3">
<h4 id="_server_scheduler_executions">Server Scheduler Executions</h4>
<div class="imageblock">
<div class="content">
<img src="images/server-scheduler-executions.png" alt="server scheduler executions">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_server_scheduler_configurations">Server Scheduler Configurations</h4>
<div class="imageblock">
<div class="content">
<img src="images/server-scheduler-configurations.png" alt="server scheduler configurations">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_add_server_scheduler_configuration">Add Server Scheduler Configuration</h4>
<div class="imageblock">
<div class="content">
<img src="images/server-scheduler-configuration-add.png" alt="server scheduler configuration add">
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_server_configuration">Server Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <em>SpringBatchLightmin-Server</em> provides defaults configurations.
These configurations can be overridden via properties.</p>
</div>
<div class="sect2">
<h3 id="_context_path">Context Path</h3>
<div class="paragraph">
<p>If the server has a concrete context path, which is different from the servlet path, the default value can be overridden by the following property.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">server</span>:
        <span class="comment">#default &quot;&quot;</span>
        <span class="key">context-path</span>: <span class="string"><span class="content">/my-path</span></span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_heartbeat_period">Heartbeat period</h3>
<div class="paragraph">
<p>The <em>Heartbeat period</em> is the time in mills to check the health status of the clients.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">server</span>:
        <span class="comment">#default 100000</span>
        <span class="key">heartbeat-period</span>: <span class="string"><span class="content">1000</span></span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_credentials">Credentials</h3>
<div class="paragraph">
<p>If the server has to pass username and password to the clients, the values can be configured via properties.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">server</span>:
       <span class="key">client-user-name</span>: <span class="string"><span class="content">username</span></span>
       <span class="key">client-password</span>: <span class="string"><span class="content">password</span></span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_server_side_auto_discovery">Server Side auto discovery</h3>
<div class="paragraph">
<p>In order to detected lightmin client via service discovery, the following property has to be set to true</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">server</span>:
        <span class="key">discovery-enabled</span>: <span class="string"><span class="content">true</span></span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_server_behind_a_proxy_2">Server behind a Proxy</h3>
<div class="paragraph">
<p>The server ui uses redirects and the <em>HOST</em> header is taken to create the redirect urls.
This is the default behavior of Spring MVC.
If the server ui is running behind a proxy, the implementation of the server takes care, that the <em>X-FORWARD-PREFIX</em> header is used as well.</p>
</div>
<div class="paragraph">
<p>If the proxy cannot pass the <em>HOST</em> header or you do not want to change the default, e.g. <em>Zuul</em>, the following property can force the server to use the <em>X-FORWARDED-HOST</em> header to build the redirect urls.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">server</span>:
        <span class="key">use-x-forwarded-headers</span>: <span class="string"><span class="content">true</span></span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_custom_ui_logo_and_text">Custom UI Logo and Text</h3>
<div class="paragraph">
<p>If you want to place a custom logo or text next to the <em>Spring Boot</em> and <em>Spring Batch</em> logo, the following properties can be used.
If the logo property is set, the text will be displayed</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">server</span>:
        <span class="key">fe</span>:
          <span class="comment">#Displays the give label value</span>
          <span class="key">label</span>: <span class="string"><span class="content">DEV</span></span>
          <span class="comment">#Displays the image of the given url (local and remote)</span>
          <span class="key">img-path</span>: <span class="string"><span class="content">img/logo.png</span></span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_server_metrics">Server Metrics</h3>
<div class="paragraph">
<p>In order to collect metrics of a <em>Lightmin</em> server , the following property has to be to <em>true</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
    <span class="key">batch</span>:
        <span class="key">lightmin</span>:
            <span class="key">server</span>:
                <span class="key">metrics-enabled</span>: <span class="string"><span class="content">true</span></span> <span class="comment"># default true</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_server_scheduler_3">Server Scheduler</h3>
<div class="paragraph">
<p>The behavior of the <em>Server Scheduler</em> can be changed via application properties.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">server</span>:
        <span class="key">scheduler</span>:
          <span class="key">enabled</span>: <span class="string"><span class="content">true</span></span> <span class="comment"># default true </span><b class="conum">(1)</b>
          <span class="key">create-new-executions-on-failure</span>: <span class="string"><span class="content">false</span></span> <span class="comment"># default false </span><b class="conum">(2)</b>
          <span class="key">create-new-executions-on-lost</span>: <span class="string"><span class="content">false</span></span> <span class="comment"># default false </span><b class="conum">(3)</b>
          <span class="key">fail-on-instance-execution-count</span>: <span class="string"><span class="content">true</span></span> <span class="comment"># default true </span><b class="conum">(4)</b>
          <span class="key">poller-period</span>: <span class="string"><span class="content">1000</span></span> <span class="comment"># default 1000 </span><b class="conum">(5)</b>
          <span class="key">poller-period-retry</span>: <span class="string"><span class="content">1000</span></span> <span class="comment"># default 1000 </span><b class="conum">(6)</b>
          <span class="key">repository</span>:
            <span class="key">delete-poller-period</span>: <span class="string"><span class="content">PT10m</span></span> <span class="comment"># default 10 minutes </span><b class="conum">(7)</b>
            <span class="key">delete-failed</span>:  <span class="string"><span class="content">true</span></span> <span class="comment"># default true </span><b class="conum">(8)</b>
            <span class="key">delete-finished</span>: <span class="string"><span class="content">true</span></span> <span class="comment"># default true </span><b class="conum">(9)</b>
            <span class="key">delete-lost</span>: <span class="string"><span class="content">true</span></span> <span class="comment"># default true </span><b class="conum">(10)</b>
            <span class="key">keep-failed</span>: <span class="string"><span class="content">PT24h</span></span> <span class="comment"># default 24 hours </span><b class="conum">(11)</b>
            <span class="key">keep-finished</span>: <span class="string"><span class="content">PT24h</span></span>  <span class="comment"># default 24 hours </span><b class="conum">(12)</b>
            <span class="key">keep-lost</span>: <span class="string"><span class="content">PT24h</span></span>  <span class="comment"># default 24 hours </span> <b class="conum">(13)</b></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_client_configuration">Client Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <em>SpringBatchLightmin-Client</em> tries to configure all client side properties
by using the <em>Spring Boot</em> auto configured <em>Server-</em>, <em>ManagementServer-</em> and <em>Actuator-Properties</em>,
excepted the <em>url</em> of the <em>SpringBatchLightmin-Server</em>. All these properties can be overridden.</p>
</div>
<div class="sect2">
<h3 id="_core">Core</h3>
<div class="paragraph">
<p>The core properties can be changed for all clients.</p>
</div>
<div class="sect3">
<h4 id="_service_url">Service Url</h4>
<div class="paragraph">
<p>The <em>service-url</em> is the url of client.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">client</span>:
        <span class="key">service-url</span>: <span class="string"><span class="content">http://localhost:8080/my-app</span></span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_management_url">Management Url</h4>
<div class="paragraph">
<p>The <em>management-url</em> is the management url of the client.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">client</span>:
        <span class="key">management-url</span>: <span class="string"><span class="content">http://localhost:8080/management</span></span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_health_url">Health Url</h4>
<div class="paragraph">
<p>The <em>management-url</em> is the health url of the client, it is used by the server to check the status.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">client</span>:
        <span class="key">health-url</span>: <span class="string"><span class="content">http://localhost:8080/management/health</span></span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_server_port">Server Port</h4>
<div class="paragraph">
<p>The <em>server-port</em> is the application port or the external port, if the application is running inside a container e.g. docker.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">client</span>:
        <span class="key">server-port</span>: <span class="string"><span class="content">8080</span></span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_management_port">Management Port</h4>
<div class="paragraph">
<p>The <em>server-port</em> is the application management port or the external port, if the application is running inside a container e.g. docker.
If the property is not set, the server-port will be taken.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">client</span>:
        <span class="key">management-port</span>: <span class="string"><span class="content">8081</span></span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_hostname">Hostname</h4>
<div class="paragraph">
<p>The <em>hostname</em> property can be used to set the name which should be used for registration at the server.
This can be helpful when running inside a container, e.g. docker.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">client</span>:
        <span class="key">hostname</span>: <span class="string"><span class="content">my.fqdn</span></span></code></pre>
</div>
</div>
<div class="sect4">
<h5 id="_publish_job_events">Publish Job Events</h5>
<div class="paragraph">
<p>The <em>publish-job-events</em> property can used to deactivate the pushes from the client to the server when a JobExecution is finished.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">client</span>:
        <span class="comment">#default: true</span>
        <span class="key">publish-job-events</span>: <span class="string"><span class="content">false</span></span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_credentials_to_access_server">Credentials to access Server</h5>
<div class="paragraph">
<p>If the server is secured with a username and password, the following to properties can be set on the client side.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">client</span>:
       <span class="key">server</span>:
         <span class="key">username</span>: <span class="string"><span class="content">myuser</span></span>
         <span class="key">password</span>: <span class="string"><span class="content">mypassword</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_classic_client">Classic Client</h3>
<div class="paragraph">
<p>The following properties can be changed for the classic client</p>
</div>
<div class="sect3">
<h4 id="_auto_registration">Auto Registration</h4>
<div class="paragraph">
<p>If <em>auto-registration</em> is set to true, the client tries to register itself automatically.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">client</span>:
        <span class="key">classic</span>:
            <span class="comment">#default true</span>
            <span class="key">auto-registration</span>: <span class="string"><span class="content">true</span></span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_auto_de_registration">Auto De-Registration</h4>
<div class="paragraph">
<p>If <em>auto-deregistration</em> is set to true, the client calls the server for de-registration before the shutdown.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">client</span>:
        <span class="key">classic</span>:
          <span class="comment">#default true</span>
          <span class="key">auto-deregistration</span>: <span class="string"><span class="content">false</span></span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_register_once">Register Once</h4>
<div class="paragraph">
<p>If <em>register-once</em> is set to true, the client will register itself only at one server.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">client</span>:
        <span class="key">classic</span>:
          <span class="comment">#default false</span>
          <span class="key">auto-register-once</span>: <span class="string"><span class="content">true</span></span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_registration_period">Registration Period</h4>
<div class="paragraph">
<p>The <em>period</em> is the time in millis, the client tries to register at the servers.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">client</span>:
        <span class="key">classic</span>:
          <span class="comment">#default 10000</span>
          <span class="key">period</span>: <span class="string"><span class="content">100</span></span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_lightmin_server">Lightmin Server</h4>
<div class="paragraph">
<p>The <em>url</em> is a mandatory property. The value is a comma separated list of server urls.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">client</span>:
        <span class="key">classic</span>:
          <span class="key">server</span>:
            <span class="key">url</span>: <span class="string"><span class="content">http://localhost:8090, http://localhost:9000</span></span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_api">API</h4>
<div class="paragraph">
<p>The <em>api</em> property gives the relative path to the server side api.
If the value is my/api and the <em>url</em> value is <a href="http://server:8080" class="bare">http://server:8080</a>, the client tries
to register at <a href="http://server:8080/my/api" class="bare">http://server:8080/my/api</a></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">client</span>:
        <span class="key">classic</span>:
          <span class="key">server</span>:
            <span class="comment">#default api/applications</span>
            <span class="key">api</span>: <span class="string"><span class="content">api/application</span></span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_discovery_client">Discovery Client</h3>
<div class="paragraph">
<p>The following properties can be changed for the discovery client</p>
</div>
<div class="sect3">
<h4 id="_server_discovery_name">Server Discovery Name</h4>
<div class="paragraph">
<p>The name discovery name of the server which should be used by the <em>DiscoveryClient</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">client</span>:
        <span class="key">discovery</span>:
         <span class="comment">#default: lightmin-server</span>
         <span class="key">server-discovery-name</span>: <span class="string"><span class="content">my-server</span></span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_server_context_path">Server Context Path</h4>
<div class="paragraph">
<p>If the server has a context path, this property will be used to enhance the discovery address by the <em>DiscoveryClient</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">client</span>:
        <span class="key">discovery</span>:
         <span class="key">server-context-path</span>: <span class="string"><span class="content">/server</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_job_configuration_repository_configuration">Job Configuration Repository Configuration</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_jdbc_configuration_repository">Jdbc Configuration Repository</h3>
<div class="paragraph">
<p>The following configuration properties can be used for the jdbc configuration repository</p>
</div>
<div class="sect3">
<h4 id="_table_names">Table Names</h4>
<div class="paragraph">
<p>If the table name of the provided ddl schemas does not match your requirements, you can rename them and configure the custom names via property.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">repository</span>:
        <span class="key">jdbc</span>:
          <span class="comment">#default: BATCH_JOB_CONFIGURATION</span>
          <span class="key">job-configuration-table-name</span>: <span class="string"><span class="content">my-jc-table-name</span></span>
          <span class="comment">#default: BATCH_JOB_CONFIGURATION_VALUE</span>
          <span class="key">job-configuration-value-table-name</span>: <span class="string"><span class="content">my-jcv-table-name</span></span>
          <span class="comment">#default: BATCH_JOB_CONFIGURATION_PARAMETERS</span>
          <span class="key">job-configuration-parameter-table-name</span>: <span class="string"><span class="content">mv-jcp-table-name</span></span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_database_schema_name">Database Schema name</h4>
<div class="paragraph">
<p>If you have to define a custom schema for your database, the following property can be used.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">repository</span>:
        <span class="key">jdbc</span>:
          <span class="key">configuration-database-schema</span>: <span class="string"><span class="content">my-schema</span></span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_datasource_name">Datasource Name</h4>
<div class="paragraph">
<p>Per default, the repository tries to get a DataSource bean with the name <em>dataSource</em>. If the DataSource has a different name in your configuration, the following property can be used.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">repository</span>:
        <span class="key">jdbc</span>:
          <span class="key">data-source-name</span>: <span class="string"><span class="content">myDataSourceName</span></span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_remote_configuration_repository">Remote Configuration Repository</h3>
<div class="paragraph">
<p>The following configuration properties can be used for the remote configuration repository</p>
</div>
<div class="sect3">
<h4 id="_common">Common</h4>
<div class="paragraph">
<p>The following properties can be used with and without service discovery</p>
</div>
<div class="sect4">
<h5 id="_credentials_2">Credentials</h5>
<div class="paragraph">
<p>If the <em>Remote Repository Server</em> is secured, the following properties can be used to set a username and a password.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">repository</span>:
        <span class="key">remote</span>:
          <span class="key">username</span>: <span class="string"><span class="content">username</span></span>
          <span class="key">password</span>: <span class="string"><span class="content">password</span></span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_no_service_discovery">No Service Discovery</h4>
<div class="sect4">
<h5 id="_server_url">Server Url</h5>
<div class="paragraph">
<p>The property points directly to the url of remote repository server.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">repository</span>:
        <span class="key">remote</span>:
          <span class="key">server-url</span>: <span class="string"><span class="content">http://my-server.domain:8180</span></span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_discovery">Discovery</h4>
<div class="sect4">
<h5 id="_enable_discovery">Enable Discovery</h5>
<div class="paragraph">
<p>This property has to be set to true to enable the discovery.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">repository</span>:
        <span class="key">remote</span>:
          <span class="comment">#default: false</span>
          <span class="key">discover-remote-repository</span>: <span class="string"><span class="content">true</span></span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_remote_repository_discovery_name">Remote Repository Discovery Name</h5>
<div class="paragraph">
<p>Set or change the discovery name of the <em>Remote Repository Server</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">repository</span>:
        <span class="key">remote</span>:
          <span class="comment">#default: spring-batch-lightmin-repository-server</span>
          <span class="key">server-discovery-name</span>: <span class="string"><span class="content">my-remote-repo</span></span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_remote_repository_context_path">Remote Repository Context Path</h5>
<div class="paragraph">
<p>If the Remote Repository uses a context path, this property will be added to the discovered url by the <em>DiscoveryClient</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">repository</span>:
        <span class="key">remote</span>:
          <span class="key">context-path</span>: <span class="string"><span class="content">/remote-repo-server</span></span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_startup_discovery_retry">Startup Discovery Retry</h5>
<div class="paragraph">
<p>The retry count to find the repository server.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">repository</span>:
        <span class="key">remote</span>:
          <span class="comment">#default: 30</span>
          <span class="key">server-startup-discovery-retry</span>: <span class="string"><span class="content">10</span></span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_startup_discovery_wait_time">Startup Discovery Wait Time</h5>
<div class="paragraph">
<p>The time period between the retries.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">repository</span>:
        <span class="key">remote</span>:
          <span class="comment">#default: 500 in millis</span>
          <span class="key">server-startup-discovery-retry-wait-time</span>: <span class="string"><span class="content">200</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_batch_configuration">Batch Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following properties can be used to configure <em>Spring Batch</em> in lightmin clients.</p>
</div>
<div class="sect2">
<h3 id="_repository_type">Repository Type</h3>
<div class="paragraph">
<p>The type of the <em>JobRepository</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">batch</span>:
        <span class="comment">#default: jdbc</span>
        <span class="key">repository-type</span>: <span class="string"><span class="content">map</span></span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_jdbc_jobrepository_configuration">Jdbc JobRepository Configuration</h3>
<div class="paragraph">
<p>For the jdbc JobRepository, the following properties can be used.</p>
</div>
<div class="sect3">
<h4 id="_table_prefix">Table Prefix</h4>
<div class="paragraph">
<p>Prefix for all Spring Batch tables.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">batch</span>:
        <span class="comment">#default: BATCH_</span>
        <span class="key">table-prefix</span>: <span class="string"><span class="content">MY_PREFIX_</span></span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_datasource_name_2">Datasource Name</h4>
<div class="paragraph">
<p>The name of the DataSource which should be used for <em>Spring Batch</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">batch</span>:
        <span class="comment">#default: dataSource</span>
        <span class="key">data-source-name</span>: <span class="string"><span class="content">myDataSourceName</span></span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_database_schema">Database Schema</h4>
<div class="paragraph">
<p>The database schema name.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
  <span class="key">batch</span>:
    <span class="key">lightmin</span>:
      <span class="key">batch</span>:
        <span class="key">database-schema</span>: <span class="string"><span class="content">myDatabaseSchema</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_job_configurations">Job Configurations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A job Configuration contains properties, which describes how a job should be launched by <em>Spring Batch Lightmin</em>.</p>
</div>
<div class="sect2">
<h3 id="_anatomy_of_a_job_configuration">Anatomy of a Job Configuration</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">JobConfiguration</span> <span class="directive">extends</span> AbstractConfiguration {

        <span class="directive">private</span> <span class="predefined-type">Long</span> jobConfigurationId;
        <span class="directive">private</span> <span class="predefined-type">String</span> jobName;
        <span class="directive">private</span> JobSchedulerConfiguration jobSchedulerConfiguration;
        <span class="directive">private</span> JobListenerConfiguration jobListenerConfiguration;
        <span class="directive">private</span> <span class="predefined-type">Map</span>&lt;<span class="predefined-type">String</span>, <span class="predefined-type">Object</span>&gt; jobParameters;
        <span class="directive">private</span> JobIncrementer jobIncrementer;

}</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_properties">Properties</h4>
<div class="sect4">
<h5 id="_job_configuration_id">Job Configuration Id</h5>
<div class="paragraph">
<p>The <em>jobConfigurationId</em> is a technical id to make the configuration unique.</p>
</div>
</div>
<div class="sect4">
<h5 id="_job_name">Job Name</h5>
<div class="paragraph">
<p>The <em>jobName</em> is the name of <em>Spring Batch Job</em> where the configuration belongs to.</p>
</div>
</div>
<div class="sect4">
<h5 id="_job_parameters">Job Parameters</h5>
<div class="paragraph">
<p>The <em>jobParameters</em> are keys and values, which will passed to the <em>JobLauncher</em>, when a instance of a <em>Spring Batch
Job</em> will be triggered by a <em>JobConfiguration</em>. The key describes the type of the parameter. Following types are
currently supported</p>
</div>
<div class="ulist">
<ul>
<li>
<p>String</p>
</li>
<li>
<p>Long</p>
</li>
<li>
<p>Double</p>
</li>
<li>
<p>Date</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_job_incrementer">Job Incrementer</h5>
<div class="paragraph">
<p>The <em>jobIncrementer</em> is a job parameter which will be added to existing job parameters. This incrementer can be used to
trigger a new <em>JobInstance</em> of a <em>Job</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">enum</span> JobIncrementer {

    DATE(<span class="string"><span class="delimiter">&quot;</span><span class="content">DATE_INCREMENTER</span><span class="delimiter">&quot;</span></span>),
    NONE(<span class="string"><span class="delimiter">&quot;</span><span class="content">NONE</span><span class="delimiter">&quot;</span></span>);
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_job_scheduler_configuration">Job Scheduler Configuration</h5>
<div class="paragraph">
<p>The <em>JobSchedulerConfiguration</em> determines, in which way a <em>Job</em> should be launched.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">JobSchedulerConfiguration</span> <span class="directive">extends</span> AbstractConfiguration {

    <span class="directive">private</span> JobSchedulerType jobSchedulerType;
    <span class="directive">private</span> <span class="predefined-type">String</span> cronExpression;
    <span class="directive">private</span> <span class="predefined-type">Long</span> initialDelay;
    <span class="directive">private</span> <span class="predefined-type">Long</span> fixedDelay;
    <span class="directive">private</span> TaskExecutorType taskExecutorType;
    <span class="directive">private</span> <span class="predefined-type">String</span> beanName;
    <span class="directive">private</span> SchedulerStatus schedulerStatus;
}</code></pre>
</div>
</div>
<div class="sect5">
<h6 id="_jobschedulertype">JobSchedulerType</h6>
<div class="paragraph">
<p>The JobSchedulerType determines, if the trigger is a CRON expression or by periods.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">enum</span> JobSchedulerType {
    CRON(<span class="integer">1L</span>),
    PERIOD(<span class="integer">2L</span>);
}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_cronexpression">cronExpression</h6>
<div class="paragraph">
<p>It has to be not null and a regular CRON expression, if the <em>JobSchedulerType</em> is set to <em>CRON</em>.
It has to be null, if the <em>JobSchedulerType</em> is equal to <em>PERIOD</em>.</p>
</div>
</div>
<div class="sect5">
<h6 id="_initial_fixeddelay">initial- &amp; fixedDelay</h6>
<div class="paragraph">
<p>Both properties must not be null or negative, if the <em>JobSchedulerType</em> is set to <em>PERIOD</em>.
The <em>initialDelay</em> configures the delay of the first launched after initialization and the
<em>fixedDelay the</em> the period of a relaunch. Both values have to be null, if the <em>JobSchedulerType</em> is equal to <em>CRON</em>.</p>
</div>
</div>
<div class="sect5">
<h6 id="_taskexecutortype">TaskExecutorType</h6>
<div class="paragraph">
<p>The <em>TaskExecutorType</em> determines, if the launch of a <em>Job</em> should be synchronously or asynchronously.
If the value is set to <em>SYNCHRONOUS</em>, the task executor will wait, until the previous run is
finished. On <em>ASYNCHRONOUS</em> mode, the job will be launched, if the <em>CRON</em> or <em>PERIOD</em> trigger fires.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">enum</span> TaskExecutorType {
    SYNCHRONOUS(<span class="string"><span class="delimiter">&quot;</span><span class="content">SYNCHRONOUS</span><span class="delimiter">&quot;</span></span>, <span class="integer">1L</span>),
    ASYNCHRONOUS(<span class="string"><span class="delimiter">&quot;</span><span class="content">ASYNCHRONOUS</span><span class="delimiter">&quot;</span></span>, <span class="integer">2L</span>);
}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_beanname">beanName</h6>
<div class="paragraph">
<p>The name of spring bean.</p>
</div>
</div>
<div class="sect5">
<h6 id="_schedulerstatus">SchedulerStatus</h6>
<div class="paragraph">
<p>The <em>SchedulerStatus</em> represents the current status of scheduler of the
<em>JobConfiguration</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">enum</span> SchedulerStatus {
    INITIALIZED(<span class="string"><span class="delimiter">&quot;</span><span class="content">INITIALIZED</span><span class="delimiter">&quot;</span></span>),
    RUNNING(<span class="string"><span class="delimiter">&quot;</span><span class="content">RUNNING</span><span class="delimiter">&quot;</span></span>),
    STOPPED(<span class="string"><span class="delimiter">&quot;</span><span class="content">STOPPED</span><span class="delimiter">&quot;</span></span>),
    IN_TERMINATION(<span class="string"><span class="delimiter">&quot;</span><span class="content">IN TERMINATION</span><span class="delimiter">&quot;</span></span>);</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_job_listener_configuration">Job Listener Configuration</h5>
<div class="paragraph">
<p>The <em>Job Listner Configurations</em> can be registered, to listen for events and triggers a job.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">JobListenerConfiguration</span> <span class="directive">extends</span> AbstractConfiguration {

    <span class="directive">private</span> JobListenerType jobListenerType;
    <span class="directive">private</span> <span class="predefined-type">String</span> sourceFolder;
    <span class="directive">private</span> <span class="predefined-type">String</span> filePattern;
    <span class="directive">private</span> <span class="predefined-type">Long</span> pollerPeriod;
    <span class="directive">private</span> <span class="predefined-type">String</span> beanName;
    <span class="directive">private</span> ListenerStatus listenerStatus;
    <span class="directive">private</span> TaskExecutorType taskExecutorType;</code></pre>
</div>
</div>
<div class="sect5">
<h6 id="_job_listener_type">Job Listener Type</h6>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">enum</span> JobListenerType {

    LOCAL_FOLDER_LISTENER(<span class="integer">1L</span>);
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>LOCAL FOLDER LISTENER</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <em>LOCAL FOLDER LISTENER</em> event is fired, the absolut path to the file will be passed as <em>Job Parameter</em> with
the name <strong><em>fileSource</em></strong> to the <em>Job Launcher</em>.</p>
</div>
</div>
<div class="sect5">
<h6 id="_source_folder">Source Folder</h6>
<div class="paragraph">
<p>The file system folder, the listener should be registered for</p>
</div>
</div>
<div class="sect5">
<h6 id="_file_pattern">File Pattern</h6>
<div class="paragraph">
<p>Ant based pattern, to filter files, which should be used for the event.</p>
</div>
</div>
<div class="sect5">
<h6 id="_poller_period">Poller Period</h6>

</div>
<div class="sect5">
<h6 id="_bean_name">Bean Name</h6>
<div class="paragraph">
<p>The name of spring bean.</p>
</div>
</div>
<div class="sect5">
<h6 id="_listener_status">Listener Status</h6>
<div class="paragraph">
<p>The <em>Listener Status</em> indicates the current status of the Listener Configuration</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">enum</span> ListenerStatus {

    ACTIVE(<span class="string"><span class="delimiter">&quot;</span><span class="content">ACTIVE</span><span class="delimiter">&quot;</span></span>),
    STOPPED(<span class="string"><span class="delimiter">&quot;</span><span class="content">STOPPED</span><span class="delimiter">&quot;</span></span>);
}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_task_executor">Task Executor</h6>
<div class="paragraph">
<p>The <em>TaskExecutorType</em> determines, if the launch of a <em>Job</em> should be synchronously or asynchronously.
If the value is set to <em>SYNCHRONOUS</em>, the task executor will wait, until the previous run is
finished. On <em>ASYNCHRONOUS</em> mode, the job will be launched, if a new event occurs.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">enum</span> TaskExecutorType {
    SYNCHRONOUS(<span class="string"><span class="delimiter">&quot;</span><span class="content">SYNCHRONOUS</span><span class="delimiter">&quot;</span></span>, <span class="integer">1L</span>),
    ASYNCHRONOUS(<span class="string"><span class="delimiter">&quot;</span><span class="content">ASYNCHRONOUS</span><span class="delimiter">&quot;</span></span>, <span class="integer">2L</span>);
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_jobconfiguration_repository">JobConfiguration Repository</h3>
<div class="paragraph">
<p>The <em>JobConfigurationRepository</em> describes an interface, to manage <em>JobConfigurations</em>.
The current version provides three implementations, the <em>JdbcJobConfigurationRepository</em>, <em>RemoteJobConfigurationRepository</em> and the <em>MapJobConfigurationRepository</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">interface</span> <span class="class">JobConfigurationRepository</span> {

    JobConfiguration getJobConfiguration(<span class="predefined-type">Long</span> jobConfigurationId, <span class="predefined-type">String</span> applicationName) <span class="directive">throws</span> NoSuchJobConfigurationException;

    <span class="predefined-type">Collection</span>&lt;JobConfiguration&gt; getJobConfigurations(<span class="predefined-type">String</span> jobName, <span class="predefined-type">String</span> applicationName) <span class="directive">throws</span> NoSuchJobException, NoSuchJobConfigurationException;

    JobConfiguration add(JobConfiguration jobConfiguration, <span class="predefined-type">String</span> applicationName);

    JobConfiguration update(JobConfiguration jobConfiguration, <span class="predefined-type">String</span> applicationName) <span class="directive">throws</span> NoSuchJobConfigurationException;

    <span class="type">void</span> delete(JobConfiguration jobConfiguration, <span class="predefined-type">String</span> applicationName) <span class="directive">throws</span> NoSuchJobConfigurationException;

    <span class="predefined-type">Collection</span>&lt;JobConfiguration&gt; getAllJobConfigurations(<span class="predefined-type">String</span> applicationName);

    <span class="predefined-type">Collection</span>&lt;JobConfiguration&gt; getAllJobConfigurationsByJobNames(<span class="predefined-type">Collection</span>&lt;<span class="predefined-type">String</span>&gt; jobNames, <span class="predefined-type">String</span> applicationName);</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_jdbcjobconfigurationrepository">JdbcJobConfigurationRepository</h4>
<div class="paragraph">
<p>The <em>JdbcJobConfigurationRepository</em> stores the <em>JobConfiguration</em> within a relational database.
In order to use the jdbc version, a ddl schema has to be installed.
Schemas for various providers are locate within the core jar.</p>
</div>
<div class="sect4">
<h5 id="_h2_schema_example">H2 Schema example</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="sql"><span class="class">CREATE</span> <span class="type">TABLE</span> BATCH_JOB_CONFIGURATION (
  job_configuration_id   NUMERIC IDENTITY <span class="directive">PRIMARY</span> <span class="type">KEY</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  application_name       <span class="predefined-type">VARCHAR</span>(<span class="integer">255</span>)                 <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  job_name               <span class="predefined-type">VARCHAR</span>(<span class="integer">255</span>)                 <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  job_incrementer        <span class="predefined-type">VARCHAR</span>(<span class="integer">255</span>),
  job_configuration_type <span class="predefined-type">INT</span>                          <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>
);

<span class="class">CREATE</span> <span class="type">TABLE</span> BATCH_JOB_CONFIGURATION_VALUE (
  id                   NUMERIC IDENTITY <span class="directive">PRIMARY</span> <span class="type">KEY</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  job_configuration_id NUMERIC                      <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  value_key            <span class="predefined-type">VARCHAR</span>(<span class="integer">255</span>)                 <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  configuration_value  <span class="predefined-type">VARCHAR</span>(<span class="integer">255</span>),
  <span class="directive">FOREIGN</span> <span class="type">KEY</span> (job_configuration_id) <span class="keyword">REFERENCES</span> BATCH_JOB_CONFIGURATION (job_configuration_id)
);


<span class="class">CREATE</span> <span class="type">TABLE</span> BATCH_JOB_CONFIGURATION_PARAMETERS (
  id                   NUMERIC IDENTITY <span class="directive">PRIMARY</span> <span class="type">KEY</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  job_configuration_id NUMERIC                      <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  parameter_name       <span class="predefined-type">VARCHAR</span>(<span class="integer">255</span>)                 <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  parameter_value      <span class="predefined-type">VARCHAR</span>(<span class="integer">255</span>)                 <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  parameter_type       <span class="predefined-type">INT</span>                          <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  <span class="directive">FOREIGN</span> <span class="type">KEY</span> (job_configuration_id) <span class="keyword">REFERENCES</span> BATCH_JOB_CONFIGURATION (job_configuration_id)
);</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_remotejobconfigurationrepository">RemoteJobConfigurationRepository</h4>
<div class="paragraph">
<p>The <em>RemoteJobConfigurationRepository</em> communicates with an external <em>repository server</em> via <em>REST API</em>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_mapjobconfigurationrepository">MapJobConfigurationRepository</h4>
<div class="paragraph">
<p>The <em>MapJobConfigurationRepository</em> stores the <em>JobConfigurations</em> within a map.
If the application will be restarted, all stored <em>JobConfigurations</em> will be lost.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_spring_batch_lightmin_metrics_2">Spring Batch Lightmin Metrics</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Lightmin Metrics introduces some custom metrics for the Lightmin-Platform.
It uses Micrometer to collect metrics.
The metrics are available for client and server applications.</p>
</div>
<div class="sect2">
<h3 id="_enabling_client_metrics_2">Enabling Client Metrics</h3>
<div class="paragraph">
<p>In order to collect metrics of a <em>Lightmin</em> client application, the following property has to be to <em>true</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
    <span class="key">batch</span>:
        <span class="key">lightmin</span>:
            <span class="key">client</span>:
                <span class="key">metrics-enabled</span>: <span class="string"><span class="content">true</span></span> <span class="comment">#default true</span></code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>If you want to use runtime information of a client on a server, the following property has to be set to true.
The send information will be transformed to metrics on the server, if the sever metrics feature is enabled.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
    <span class="key">batch</span>:
        <span class="key">lightmin</span>:
            <span class="key">client</span>:
                <span class="key">publish-job-events</span>: <span class="string"><span class="content">true</span></span> <span class="comment">#default true</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_enabling_server_metrics_2">Enabling Server Metrics</h3>
<div class="paragraph">
<p>In order to collect metrics of a <em>Lightmin</em> server , the following property has to be to <em>true</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">spring</span>:
    <span class="key">batch</span>:
        <span class="key">lightmin</span>:
            <span class="key">server</span>:
                <span class="key">metrics-enabled</span>: <span class="string"><span class="content">true</span></span> <span class="comment">#default true</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_exposing_metrics_via_actuator_2">Exposing Metrics via actuator</h3>
<div class="paragraph">
<p>In order to expose the collected metrics, a <em>Micrometer</em> registry dependencies has to be added to the client and the server.</p>
</div>
<div class="paragraph">
<p>For prometheus, the following dependencies has to be added</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependency&gt;</span>
  <span class="tag">&lt;groupId&gt;</span>io.micrometer<span class="tag">&lt;/groupId&gt;</span>
  <span class="tag">&lt;artifactId&gt;</span>micrometer-registry-prometheus<span class="tag">&lt;/artifactId&gt;</span>
  <span class="tag">&lt;version&gt;</span>${micrometer.version}<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>The lightmin dependencies do not provide any registries out of the box</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_modifying_lighmin_metrics_2">Modifying Lighmin Metrics</h3>
<div class="paragraph">
<p>Metrics will be published over prometheus actuator and can be modified by adding MeterFilter into the metrics configuration.
Refer to Micrometer Documentation for more information.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Configuration</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">Config</span>{

<span class="directive">final</span> <span class="directive">static</span> <span class="predefined-type">String</span> name = <span class="string"><span class="delimiter">&quot;</span><span class="content">EXAMPLE</span><span class="delimiter">&quot;</span></span>;

<span class="annotation">@Bean</span>
<span class="directive">public</span> MeterRegistryCustomizer&lt;MeterRegistry&gt; metricsCommonTags() {
        <span class="keyword">return</span> registry -&gt; {
            <span class="keyword">if</span> (name != <span class="predefined-constant">null</span>) {
                registry.config().meterFilter(
                        <span class="keyword">new</span> MeterFilter() {
                            <span class="annotation">@Override</span>
                            <span class="directive">public</span> DistributionStatisticConfig configure(Meter.Id id, DistributionStatisticConfig config) {
                                <span class="keyword">if</span> (id.getName().startsWith(<span class="string"><span class="delimiter">&quot;</span><span class="content">lightmin</span><span class="delimiter">&quot;</span></span>)) {
                                    <span class="comment">// Example Filter - Activating histogram on all lightmin metrics</span>
                                    <span class="keyword">return</span> DistributionStatisticConfig.builder().percentilesHistogram(<span class="predefined-constant">true</span>)
                                            .percentiles(<span class="float">0.95</span>)
                                            .build()
                                            .merge(config);
                                }
                                <span class="keyword">return</span> config;
                            }
                        })
                        .commonTags(<span class="string"><span class="delimiter">&quot;</span><span class="content">example_tag</span><span class="delimiter">&quot;</span></span>, name);
            }
        };
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_grafana_dashboards_2">Grafana Dashboards</h3>
<div class="paragraph">
<p>Lightmin Metrics introduces prebuild Grafana Dashboards for server and client.
The json files are available in the resources folder of the lightmin-metrics project.
In order to use the plugin, please install the following Plugins:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Statusmap by Flant JSC</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_lightmin_dashboard_2">Lightmin Dashboard</h4>
<div class="paragraph">
<p>The <em>Spring Batch Lightmin</em> Dashboard provides information about all Lightmin clients which are configured as target in Prometheus.
The following variables are available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Service - taken from the tag <em>APPLICATION_NAME</em> (Lightmin Clients should be listed here)</p>
</li>
<li>
<p>Job Name - Name of all jobs, or all jobs of the selected <em>Services</em></p>
</li>
<li>
<p>Job Count Interval - Time period for the overall <em>SUCCESSFUL</em> and <em>FAILED</em> overview</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/grafana_all.png" alt="grafana all">
</div>
</div>
<div class="paragraph">
<p>If a specific Job Name is selected, the details about the job and step execution will be displayed.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/grafana_job.png" alt="grafana job">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_lightmin_server_dashboard_2">Lightmin Server Dashboard</h4>
<div class="paragraph">
<p>The Server Dashboard provides an overview of all Job Executions, which are send from the clients to the server.
The Lightmin server(s) should be configured as target in Prometheus.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/grafana_server_all.png" alt="grafana server all">
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>The boards require a Prometheus datasource.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_rest_api">REST API</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_server">Server</h3>
<div class="sect3">
<h4 id="_register">Register</h4>
<div class="sect4">
<h5 id="_curl">Curl</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl 'http://localhost/api/applications' -i -X POST \
    -H 'Accept: application/json, application/javascript, text/javascript, text/json' \
    -H 'Content-Type: application/json; charset=UTF-8' \
    -d '{
  &quot;id&quot; : null,
  &quot;name&quot; : &quot;it-application&quot;,
  &quot;managementUrl&quot; : &quot;http://localhost/actuator&quot;,
  &quot;healthUrl&quot; : &quot;http://localhost/actuator/health&quot;,
  &quot;serviceUrl&quot; : &quot;http://localhost&quot;,
  &quot;lightminClientApplicationStatus&quot; : null,
  &quot;lightminClientInformation&quot; : {
    &quot;supportedSchedulerTypes&quot; : [ &quot;CRON&quot;, &quot;PERIOD&quot; ],
    &quot;supportedSchedulerStatuses&quot; : [ &quot;INITIALIZED&quot;, &quot;RUNNING&quot;, &quot;STOPPED&quot;, &quot;IN_TERMINATION&quot; ],
    &quot;supportedTaskExecutorTypes&quot; : [ &quot;SYNCHRONOUS&quot;, &quot;ASYNCHRONOUS&quot; ],
    &quot;supportedJobIncrementers&quot; : [ &quot;DATE&quot;, &quot;NONE&quot; ],
    &quot;supportedJobListenerTypes&quot; : [ &quot;LOCAL_FOLDER_LISTENER&quot; ],
    &quot;supportedListenerStatuses&quot; : [ &quot;ACTIVE&quot;, &quot;STOPPED&quot; ],
    &quot;supportedApiFeatures&quot; : [ &quot;JOB_EXECUTION_QUERY_SERVICE&quot; ],
    &quot;registeredJobs&quot; : [ &quot;simpleJob&quot; ],
    &quot;externalLinks&quot; : { }
  }
}'</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_http_request">HTTP Request</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">POST /api/applications HTTP/1.1
Accept: application/json, application/javascript, text/javascript, text/json
Content-Type: application/json; charset=UTF-8
Host: localhost
Content-Length: 790

{
  &quot;id&quot; : null,
  &quot;name&quot; : &quot;it-application&quot;,
  &quot;managementUrl&quot; : &quot;http://localhost/actuator&quot;,
  &quot;healthUrl&quot; : &quot;http://localhost/actuator/health&quot;,
  &quot;serviceUrl&quot; : &quot;http://localhost&quot;,
  &quot;lightminClientApplicationStatus&quot; : null,
  &quot;lightminClientInformation&quot; : {
    &quot;supportedSchedulerTypes&quot; : [ &quot;CRON&quot;, &quot;PERIOD&quot; ],
    &quot;supportedSchedulerStatuses&quot; : [ &quot;INITIALIZED&quot;, &quot;RUNNING&quot;, &quot;STOPPED&quot;, &quot;IN_TERMINATION&quot; ],
    &quot;supportedTaskExecutorTypes&quot; : [ &quot;SYNCHRONOUS&quot;, &quot;ASYNCHRONOUS&quot; ],
    &quot;supportedJobIncrementers&quot; : [ &quot;DATE&quot;, &quot;NONE&quot; ],
    &quot;supportedJobListenerTypes&quot; : [ &quot;LOCAL_FOLDER_LISTENER&quot; ],
    &quot;supportedListenerStatuses&quot; : [ &quot;ACTIVE&quot;, &quot;STOPPED&quot; ],
    &quot;supportedApiFeatures&quot; : [ &quot;JOB_EXECUTION_QUERY_SERVICE&quot; ],
    &quot;registeredJobs&quot; : [ &quot;simpleJob&quot; ],
    &quot;externalLinks&quot; : { }
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_http_response">HTTP Response</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 201 Created
Content-Type: application/json
Transfer-Encoding: chunked
Date: Thu, 27 May 2021 15:45:40 GMT
Keep-Alive: timeout=60
Connection: keep-alive
Content-Length: 875

{
  &quot;id&quot; : &quot;0a7e2821&quot;,
  &quot;name&quot; : &quot;it-application&quot;,
  &quot;managementUrl&quot; : &quot;http://localhost:59519/actuator&quot;,
  &quot;healthUrl&quot; : &quot;http://localhost:59519/actuator/health&quot;,
  &quot;serviceUrl&quot; : &quot;http://localhost:59519&quot;,
  &quot;lightminClientApplicationStatus&quot; : {
    &quot;status&quot; : &quot;UNKNOWN&quot;,
    &quot;timeInMills&quot; : 1622130340114
  },
  &quot;lightminClientInformation&quot; : {
    &quot;supportedSchedulerTypes&quot; : [ &quot;CRON&quot;, &quot;PERIOD&quot; ],
    &quot;supportedSchedulerStatuses&quot; : [ &quot;INITIALIZED&quot;, &quot;RUNNING&quot;, &quot;STOPPED&quot;, &quot;IN_TERMINATION&quot; ],
    &quot;supportedTaskExecutorTypes&quot; : [ &quot;SYNCHRONOUS&quot;, &quot;ASYNCHRONOUS&quot; ],
    &quot;supportedJobIncrementers&quot; : [ &quot;DATE&quot;, &quot;NONE&quot; ],
    &quot;supportedJobListenerTypes&quot; : [ &quot;LOCAL_FOLDER_LISTENER&quot; ],
    &quot;supportedListenerStatuses&quot; : [ &quot;ACTIVE&quot;, &quot;STOPPED&quot; ],
    &quot;supportedApiFeatures&quot; : [ &quot;JOB_EXECUTION_QUERY_SERVICE&quot; ],
    &quot;registeredJobs&quot; : [ &quot;simpleJob&quot; ],
    &quot;externalLinks&quot; : { }
  }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_unregister">Unregister</h4>
<div class="sect4">
<h5 id="_curl_2">Curl</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl 'http://localhost/api/applications/0a7e2821' -i -X DELETE \
    -H 'Accept: application/json, application/javascript, text/javascript, text/json' \
    -H 'Content-Type: application/json; charset=UTF-8'</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_http_request_2">HTTP Request</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">DELETE /api/applications/0a7e2821 HTTP/1.1
Accept: application/json, application/javascript, text/javascript, text/json
Content-Type: application/json; charset=UTF-8
Host: localhost</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_http_response_2">HTTP Response</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 200 OK
Content-Type: application/json
Transfer-Encoding: chunked
Date: Thu, 27 May 2021 15:45:40 GMT
Keep-Alive: timeout=60
Connection: keep-alive
Content-Length: 875

{
  &quot;id&quot; : &quot;0a7e2821&quot;,
  &quot;name&quot; : &quot;it-application&quot;,
  &quot;managementUrl&quot; : &quot;http://localhost:59519/actuator&quot;,
  &quot;healthUrl&quot; : &quot;http://localhost:59519/actuator/health&quot;,
  &quot;serviceUrl&quot; : &quot;http://localhost:59519&quot;,
  &quot;lightminClientApplicationStatus&quot; : {
    &quot;status&quot; : &quot;UNKNOWN&quot;,
    &quot;timeInMills&quot; : 1622130340114
  },
  &quot;lightminClientInformation&quot; : {
    &quot;supportedSchedulerTypes&quot; : [ &quot;CRON&quot;, &quot;PERIOD&quot; ],
    &quot;supportedSchedulerStatuses&quot; : [ &quot;INITIALIZED&quot;, &quot;RUNNING&quot;, &quot;STOPPED&quot;, &quot;IN_TERMINATION&quot; ],
    &quot;supportedTaskExecutorTypes&quot; : [ &quot;SYNCHRONOUS&quot;, &quot;ASYNCHRONOUS&quot; ],
    &quot;supportedJobIncrementers&quot; : [ &quot;DATE&quot;, &quot;NONE&quot; ],
    &quot;supportedJobListenerTypes&quot; : [ &quot;LOCAL_FOLDER_LISTENER&quot; ],
    &quot;supportedListenerStatuses&quot; : [ &quot;ACTIVE&quot;, &quot;STOPPED&quot; ],
    &quot;supportedApiFeatures&quot; : [ &quot;JOB_EXECUTION_QUERY_SERVICE&quot; ],
    &quot;registeredJobs&quot; : [ &quot;simpleJob&quot; ],
    &quot;externalLinks&quot; : { }
  }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_get_all_lightmin_client_applications">Get All Lightmin Client Applications</h4>
<div class="sect4">
<h5 id="_curl_3">Curl</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl 'http://localhost/api/applications' -i -X GET \
    -H 'Accept: application/json, application/javascript, text/javascript, text/json' \
    -H 'Content-Type: application/json; charset=UTF-8'</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_http_request_3">HTTP Request</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">GET /api/applications HTTP/1.1
Accept: application/json, application/javascript, text/javascript, text/json
Content-Type: application/json; charset=UTF-8
Host: localhost</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_http_response_3">HTTP Response</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 200 OK
Content-Type: application/json
Transfer-Encoding: chunked
Date: Thu, 27 May 2021 15:45:40 GMT
Keep-Alive: timeout=60
Connection: keep-alive
Content-Length: 879

[ {
  &quot;id&quot; : &quot;0a7e2821&quot;,
  &quot;name&quot; : &quot;it-application&quot;,
  &quot;managementUrl&quot; : &quot;http://localhost:59519/actuator&quot;,
  &quot;healthUrl&quot; : &quot;http://localhost:59519/actuator/health&quot;,
  &quot;serviceUrl&quot; : &quot;http://localhost:59519&quot;,
  &quot;lightminClientApplicationStatus&quot; : {
    &quot;status&quot; : &quot;UNKNOWN&quot;,
    &quot;timeInMills&quot; : 1622130340114
  },
  &quot;lightminClientInformation&quot; : {
    &quot;supportedSchedulerTypes&quot; : [ &quot;CRON&quot;, &quot;PERIOD&quot; ],
    &quot;supportedSchedulerStatuses&quot; : [ &quot;INITIALIZED&quot;, &quot;RUNNING&quot;, &quot;STOPPED&quot;, &quot;IN_TERMINATION&quot; ],
    &quot;supportedTaskExecutorTypes&quot; : [ &quot;SYNCHRONOUS&quot;, &quot;ASYNCHRONOUS&quot; ],
    &quot;supportedJobIncrementers&quot; : [ &quot;DATE&quot;, &quot;NONE&quot; ],
    &quot;supportedJobListenerTypes&quot; : [ &quot;LOCAL_FOLDER_LISTENER&quot; ],
    &quot;supportedListenerStatuses&quot; : [ &quot;ACTIVE&quot;, &quot;STOPPED&quot; ],
    &quot;supportedApiFeatures&quot; : [ &quot;JOB_EXECUTION_QUERY_SERVICE&quot; ],
    &quot;registeredJobs&quot; : [ &quot;simpleJob&quot; ],
    &quot;externalLinks&quot; : { }
  }
} ]</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_consume_job_executions">Consume Job Executions</h4>
<div class="sect4">
<h5 id="_curl_4">Curl</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl 'http://localhost/api/events/jobexecutions' -i -X POST \
    -H 'Accept: application/json, application/javascript, text/javascript, text/json' \
    -H 'Content-Type: application/json; charset=UTF-8' \
    -d '{
  &quot;applicationName&quot; : &quot;testApplication&quot;,
  &quot;jobName&quot; : &quot;sampleJob&quot;,
  &quot;jobExecutionId&quot; : 1,
  &quot;exitStatus&quot; : {
    &quot;exitCode&quot; : &quot;FAILED&quot;,
    &quot;exitDescription&quot; : &quot;failed for test&quot;
  },
  &quot;startDate&quot; : 1622130340939,
  &quot;endDate&quot; : 1622130350939
}'</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_http_request_4">HTTP Request</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">POST /api/events/jobexecutions HTTP/1.1
Accept: application/json, application/javascript, text/javascript, text/json
Content-Type: application/json; charset=UTF-8
Host: localhost
Content-Length: 247

{
  &quot;applicationName&quot; : &quot;testApplication&quot;,
  &quot;jobName&quot; : &quot;sampleJob&quot;,
  &quot;jobExecutionId&quot; : 1,
  &quot;exitStatus&quot; : {
    &quot;exitCode&quot; : &quot;FAILED&quot;,
    &quot;exitDescription&quot; : &quot;failed for test&quot;
  },
  &quot;startDate&quot; : 1622130340939,
  &quot;endDate&quot; : 1622130350939
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_http_response_4">HTTP Response</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 201 Created
Date: Thu, 27 May 2021 15:45:40 GMT
Keep-Alive: timeout=60
Connection: keep-alive</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_client">Client</h3>
<div class="sect3">
<h4 id="_jobs">Jobs</h4>
<div class="sect4">
<h5 id="_get_all_job_executions">Get All Job Executions</h5>
<div class="sect5">
<h6 id="_curl_5">Curl</h6>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl 'http://localhost/api/jobexecutionpages/all?jobinstanceid=16' -i -X GET \
    -H 'Accept: application/json, application/javascript, text/javascript, text/json'</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_http_request_5">HTTP Request</h6>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">GET /api/jobexecutionpages/all?jobinstanceid=16 HTTP/1.1
Accept: application/json, application/javascript, text/javascript, text/json
Host: localhost</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_http_response_5">HTTP Response</h6>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8
Transfer-Encoding: chunked
Date: Thu, 27 May 2021 15:45:42 GMT
Keep-Alive: timeout=60
Connection: keep-alive
Content-Length: 1549

{
  &quot;startIndex&quot; : 0,
  &quot;pageSize&quot; : 1,
  &quot;jobName&quot; : &quot;simpleJob&quot;,
  &quot;totalJobExecutionCount&quot; : 1,
  &quot;jobInstanceId&quot; : 16,
  &quot;jobExecutions&quot; : [ {
    &quot;id&quot; : 16,
    &quot;version&quot; : 2,
    &quot;jobParameters&quot; : {
      &quot;parameters&quot; : {
        &quot;date&quot; : {
          &quot;parameter&quot; : &quot;2021/05/27 18:45:42:779[date]&quot;,
          &quot;parameterType&quot; : &quot;DATE&quot;
        }
      }
    },
    &quot;jobInstance&quot; : {
      &quot;id&quot; : 16,
      &quot;version&quot; : 0,
      &quot;jobName&quot; : &quot;simpleJob&quot;
    },
    &quot;stepExecutions&quot; : [ {
      &quot;id&quot; : 16,
      &quot;version&quot; : 3,
      &quot;jobExecutionId&quot; : 16,
      &quot;stepName&quot; : &quot;simpleStep&quot;,
      &quot;status&quot; : &quot;COMPLETED&quot;,
      &quot;readCount&quot; : 0,
      &quot;writeCount&quot; : 0,
      &quot;commitCount&quot; : 1,
      &quot;rollbackCount&quot; : 0,
      &quot;readSkipCount&quot; : 0,
      &quot;processSkipCount&quot; : 0,
      &quot;writeSkipCount&quot; : 0,
      &quot;startTime&quot; : &quot;2021-05-27T15:45:42.782+00:00&quot;,
      &quot;endTime&quot; : &quot;2021-05-27T15:45:42.784+00:00&quot;,
      &quot;lastUpdated&quot; : &quot;2021-05-27T15:45:42.784+00:00&quot;,
      &quot;exitStatus&quot; : {
        &quot;exitCode&quot; : &quot;COMPLETED&quot;,
        &quot;exitDescription&quot; : &quot;&quot;
      },
      &quot;terminateOnly&quot; : false,
      &quot;filterCount&quot; : 0,
      &quot;failureExceptions&quot; : [ ]
    } ],
    &quot;status&quot; : &quot;COMPLETED&quot;,
    &quot;startTime&quot; : &quot;2021-05-27T15:45:42.781+00:00&quot;,
    &quot;createTime&quot; : &quot;2021-05-27T15:45:42.780+00:00&quot;,
    &quot;endTime&quot; : &quot;2021-05-27T15:45:42.784+00:00&quot;,
    &quot;lastUpdated&quot; : &quot;2021-05-27T15:45:42.793+00:00&quot;,
    &quot;exitStatus&quot; : {
      &quot;exitCode&quot; : &quot;COMPLETED&quot;,
      &quot;exitDescription&quot; : &quot;&quot;
    },
    &quot;failureExceptions&quot; : [ ],
    &quot;jobConfigurationName&quot; : null
  } ]
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_get_job_executions">Get Job Executions</h5>
<div class="sect5">
<h6 id="_curl_6">Curl</h6>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl 'http://localhost/api/jobexecutionpages?jobinstanceid=15&amp;startindex=0&amp;pagesize=5' -i -X GET \
    -H 'Accept: application/json, application/javascript, text/javascript, text/json'</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_http_request_6">HTTP Request</h6>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">GET /api/jobexecutionpages?jobinstanceid=15&amp;startindex=0&amp;pagesize=5 HTTP/1.1
Accept: application/json, application/javascript, text/javascript, text/json
Host: localhost</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_http_response_6">HTTP Response</h6>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8
Transfer-Encoding: chunked
Date: Thu, 27 May 2021 15:45:42 GMT
Keep-Alive: timeout=60
Connection: keep-alive
Content-Length: 883

{
  &quot;startIndex&quot; : 0,
  &quot;pageSize&quot; : 5,
  &quot;jobName&quot; : &quot;simpleJob&quot;,
  &quot;totalJobExecutionCount&quot; : 1,
  &quot;jobInstanceId&quot; : 15,
  &quot;jobExecutions&quot; : [ {
    &quot;id&quot; : 15,
    &quot;version&quot; : 2,
    &quot;jobParameters&quot; : {
      &quot;parameters&quot; : {
        &quot;date&quot; : {
          &quot;parameter&quot; : &quot;2021/05/27 18:45:42:726[date]&quot;,
          &quot;parameterType&quot; : &quot;DATE&quot;
        }
      }
    },
    &quot;jobInstance&quot; : {
      &quot;id&quot; : 15,
      &quot;version&quot; : 0,
      &quot;jobName&quot; : &quot;simpleJob&quot;
    },
    &quot;stepExecutions&quot; : [ ],
    &quot;status&quot; : &quot;COMPLETED&quot;,
    &quot;startTime&quot; : &quot;2021-05-27T15:45:42.728+00:00&quot;,
    &quot;createTime&quot; : &quot;2021-05-27T15:45:42.727+00:00&quot;,
    &quot;endTime&quot; : &quot;2021-05-27T15:45:42.731+00:00&quot;,
    &quot;lastUpdated&quot; : &quot;2021-05-27T15:45:42.745+00:00&quot;,
    &quot;exitStatus&quot; : {
      &quot;exitCode&quot; : &quot;COMPLETED&quot;,
      &quot;exitDescription&quot; : &quot;&quot;
    },
    &quot;failureExceptions&quot; : [ ],
    &quot;jobConfigurationName&quot; : &quot;15&quot;
  } ]
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_get_job_execution">Get Job Execution</h5>
<div class="sect5">
<h6 id="_curl_7">Curl</h6>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl 'http://localhost/api/jobexecutions/20' -i -X GET \
    -H 'Accept: application/json, application/javascript, text/javascript, text/json'</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_http_request_7">HTTP Request</h6>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">GET /api/jobexecutions/20 HTTP/1.1
Accept: application/json, application/javascript, text/javascript, text/json
Host: localhost</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_http_response_7">HTTP Response</h6>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8
Transfer-Encoding: chunked
Date: Thu, 27 May 2021 15:45:42 GMT
Keep-Alive: timeout=60
Connection: keep-alive
Content-Length: 1298

{
  &quot;id&quot; : 20,
  &quot;version&quot; : 2,
  &quot;jobParameters&quot; : {
    &quot;parameters&quot; : {
      &quot;date&quot; : {
        &quot;parameter&quot; : &quot;2021/05/27 18:45:42:911[date]&quot;,
        &quot;parameterType&quot; : &quot;DATE&quot;
      }
    }
  },
  &quot;jobInstance&quot; : {
    &quot;id&quot; : 19,
    &quot;version&quot; : 0,
    &quot;jobName&quot; : &quot;simpleJob&quot;
  },
  &quot;stepExecutions&quot; : [ {
    &quot;id&quot; : 20,
    &quot;version&quot; : 3,
    &quot;jobExecutionId&quot; : 20,
    &quot;stepName&quot; : &quot;simpleStep&quot;,
    &quot;status&quot; : &quot;COMPLETED&quot;,
    &quot;readCount&quot; : 0,
    &quot;writeCount&quot; : 0,
    &quot;commitCount&quot; : 1,
    &quot;rollbackCount&quot; : 0,
    &quot;readSkipCount&quot; : 0,
    &quot;processSkipCount&quot; : 0,
    &quot;writeSkipCount&quot; : 0,
    &quot;startTime&quot; : &quot;2021-05-27T15:45:42.914+00:00&quot;,
    &quot;endTime&quot; : &quot;2021-05-27T15:45:42.915+00:00&quot;,
    &quot;lastUpdated&quot; : &quot;2021-05-27T15:45:42.915+00:00&quot;,
    &quot;exitStatus&quot; : {
      &quot;exitCode&quot; : &quot;COMPLETED&quot;,
      &quot;exitDescription&quot; : &quot;&quot;
    },
    &quot;terminateOnly&quot; : false,
    &quot;filterCount&quot; : 0,
    &quot;failureExceptions&quot; : [ ]
  } ],
  &quot;status&quot; : &quot;COMPLETED&quot;,
  &quot;startTime&quot; : &quot;2021-05-27T15:45:42.912+00:00&quot;,
  &quot;createTime&quot; : &quot;2021-05-27T15:45:42.912+00:00&quot;,
  &quot;endTime&quot; : &quot;2021-05-27T15:45:42.916+00:00&quot;,
  &quot;lastUpdated&quot; : &quot;2021-05-27T15:45:42.923+00:00&quot;,
  &quot;exitStatus&quot; : {
    &quot;exitCode&quot; : &quot;COMPLETED&quot;,
    &quot;exitDescription&quot; : &quot;&quot;
  },
  &quot;failureExceptions&quot; : [ ],
  &quot;jobConfigurationName&quot; : null
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_query_job_executions">Query Job Executions</h5>
<div class="sect5">
<h6 id="_curl_8">Curl</h6>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl 'http://localhost/api/jobexecutions/query?jobname=simpleJob&amp;resultsize=4' -i -X POST \
    -H 'Accept: application/json, application/javascript, text/javascript, text/json' \
    -H 'Content-Type: application/json; charset=UTF-8' \
    -d '{
  &quot;EXIT_STATUS&quot; : &quot;COMPLETED&quot;,
  &quot;END_DATE&quot; : 1622130442469,
  &quot;START_DATE&quot; : 1622130242469
}'</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_http_request_8">HTTP Request</h6>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">POST /api/jobexecutions/query?jobname=simpleJob&amp;resultsize=4 HTTP/1.1
Accept: application/json, application/javascript, text/javascript, text/json
Content-Type: application/json; charset=UTF-8
Host: localhost
Content-Length: 95

{
  &quot;EXIT_STATUS&quot; : &quot;COMPLETED&quot;,
  &quot;END_DATE&quot; : 1622130442469,
  &quot;START_DATE&quot; : 1622130242469
}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_http_response_8">HTTP Response</h6>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8
Transfer-Encoding: chunked
Date: Thu, 27 May 2021 15:45:42 GMT
Keep-Alive: timeout=60
Connection: keep-alive
Content-Length: 2708

[ {
  &quot;id&quot; : 10,
  &quot;version&quot; : 2,
  &quot;jobParameters&quot; : {
    &quot;parameters&quot; : {
      &quot;date&quot; : {
        &quot;parameter&quot; : &quot;2021/05/27 18:45:42:449[date]&quot;,
        &quot;parameterType&quot; : &quot;DATE&quot;
      }
    }
  },
  &quot;jobInstance&quot; : {
    &quot;id&quot; : null,
    &quot;version&quot; : null,
    &quot;jobName&quot; : null
  },
  &quot;stepExecutions&quot; : [ ],
  &quot;status&quot; : &quot;COMPLETED&quot;,
  &quot;startTime&quot; : &quot;2021-05-27T15:45:42.451+00:00&quot;,
  &quot;createTime&quot; : &quot;2021-05-27T15:45:42.451+00:00&quot;,
  &quot;endTime&quot; : &quot;2021-05-27T15:45:42.456+00:00&quot;,
  &quot;lastUpdated&quot; : &quot;2021-05-27T15:45:42.468+00:00&quot;,
  &quot;exitStatus&quot; : {
    &quot;exitCode&quot; : &quot;COMPLETED&quot;,
    &quot;exitDescription&quot; : &quot;&quot;
  },
  &quot;failureExceptions&quot; : [ ],
  &quot;jobConfigurationName&quot; : &quot;10&quot;
}, {
  &quot;id&quot; : 9,
  &quot;version&quot; : 2,
  &quot;jobParameters&quot; : {
    &quot;parameters&quot; : {
      &quot;date&quot; : {
        &quot;parameter&quot; : &quot;2021/05/27 18:45:42:449[date]&quot;,
        &quot;parameterType&quot; : &quot;DATE&quot;
      }
    }
  },
  &quot;jobInstance&quot; : {
    &quot;id&quot; : null,
    &quot;version&quot; : null,
    &quot;jobName&quot; : null
  },
  &quot;stepExecutions&quot; : [ ],
  &quot;status&quot; : &quot;COMPLETED&quot;,
  &quot;startTime&quot; : &quot;2021-05-27T15:45:42.380+00:00&quot;,
  &quot;createTime&quot; : &quot;2021-05-27T15:45:42.379+00:00&quot;,
  &quot;endTime&quot; : &quot;2021-05-27T15:45:42.386+00:00&quot;,
  &quot;lastUpdated&quot; : &quot;2021-05-27T15:45:42.395+00:00&quot;,
  &quot;exitStatus&quot; : {
    &quot;exitCode&quot; : &quot;COMPLETED&quot;,
    &quot;exitDescription&quot; : &quot;&quot;
  },
  &quot;failureExceptions&quot; : [ ],
  &quot;jobConfigurationName&quot; : &quot;9&quot;
}, {
  &quot;id&quot; : 7,
  &quot;version&quot; : 2,
  &quot;jobParameters&quot; : {
    &quot;parameters&quot; : {
      &quot;date&quot; : {
        &quot;parameter&quot; : &quot;2021/05/27 18:45:42:449[date]&quot;,
        &quot;parameterType&quot; : &quot;DATE&quot;
      }
    }
  },
  &quot;jobInstance&quot; : {
    &quot;id&quot; : null,
    &quot;version&quot; : null,
    &quot;jobName&quot; : null
  },
  &quot;stepExecutions&quot; : [ ],
  &quot;status&quot; : &quot;COMPLETED&quot;,
  &quot;startTime&quot; : &quot;2021-05-27T15:45:41.093+00:00&quot;,
  &quot;createTime&quot; : &quot;2021-05-27T15:45:41.092+00:00&quot;,
  &quot;endTime&quot; : &quot;2021-05-27T15:45:41.104+00:00&quot;,
  &quot;lastUpdated&quot; : &quot;2021-05-27T15:45:41.114+00:00&quot;,
  &quot;exitStatus&quot; : {
    &quot;exitCode&quot; : &quot;COMPLETED&quot;,
    &quot;exitDescription&quot; : &quot;&quot;
  },
  &quot;failureExceptions&quot; : [ ],
  &quot;jobConfigurationName&quot; : &quot;7&quot;
}, {
  &quot;id&quot; : 6,
  &quot;version&quot; : 2,
  &quot;jobParameters&quot; : {
    &quot;parameters&quot; : {
      &quot;date&quot; : {
        &quot;parameter&quot; : &quot;2021/05/27 18:45:42:449[date]&quot;,
        &quot;parameterType&quot; : &quot;DATE&quot;
      }
    }
  },
  &quot;jobInstance&quot; : {
    &quot;id&quot; : null,
    &quot;version&quot; : null,
    &quot;jobName&quot; : null
  },
  &quot;stepExecutions&quot; : [ ],
  &quot;status&quot; : &quot;COMPLETED&quot;,
  &quot;startTime&quot; : &quot;2021-05-27T15:45:41.047+00:00&quot;,
  &quot;createTime&quot; : &quot;2021-05-27T15:45:41.043+00:00&quot;,
  &quot;endTime&quot; : &quot;2021-05-27T15:45:41.064+00:00&quot;,
  &quot;lastUpdated&quot; : &quot;2021-05-27T15:45:41.072+00:00&quot;,
  &quot;exitStatus&quot; : {
    &quot;exitCode&quot; : &quot;COMPLETED&quot;,
    &quot;exitDescription&quot; : &quot;&quot;
  },
  &quot;failureExceptions&quot; : [ ],
  &quot;jobConfigurationName&quot; : &quot;6&quot;
} ]</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_job_launcher_2">Job Launcher</h4>
<div class="sect4">
<h5 id="_launch_job">Launch Job</h5>
<div class="sect5">
<h6 id="_curl_9">Curl</h6>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl 'http://localhost/api/joblaunches' -i -X POST \
    -H 'Accept: application/json, application/javascript, text/javascript, text/json' \
    -H 'Content-Type: application/json; charset=UTF-8' \
    -d '{
  &quot;jobName&quot; : &quot;simpleJob&quot;,
  &quot;jobParameters&quot; : {
    &quot;parameters&quot; : {
      &quot;pathToTargetFile&quot; : {
        &quot;parameter&quot; : &quot;~/input/current_file.csv&quot;,
        &quot;parameterType&quot; : &quot;STRING&quot;
      }
    }
  }
}'</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_http_request_9">HTTP Request</h6>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">POST /api/joblaunches HTTP/1.1
Accept: application/json, application/javascript, text/javascript, text/json
Content-Type: application/json; charset=UTF-8
Host: localhost
Content-Length: 205

{
  &quot;jobName&quot; : &quot;simpleJob&quot;,
  &quot;jobParameters&quot; : {
    &quot;parameters&quot; : {
      &quot;pathToTargetFile&quot; : {
        &quot;parameter&quot; : &quot;~/input/current_file.csv&quot;,
        &quot;parameterType&quot; : &quot;STRING&quot;
      }
    }
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_http_response_9">HTTP Response</h6>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 201 Created
Date: Thu, 27 May 2021 15:45:40 GMT
Keep-Alive: timeout=60
Connection: keep-alive</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_job_configurations_2">Job Configurations</h4>
<div class="sect4">
<h5 id="_get_job_configuration_by_id">Get Job Configuration By Id</h5>
<div class="sect5">
<h6 id="_curl_10">Curl</h6>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl 'http://localhost/api/jobconfigurations/jobconfiguration/41' -i -X GET \
    -H 'Accept: application/json, application/javascript, text/javascript, text/json'</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_http_request_10">HTTP Request</h6>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">GET /api/jobconfigurations/jobconfiguration/41 HTTP/1.1
Accept: application/json, application/javascript, text/javascript, text/json
Host: localhost</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_http_response_10">HTTP Response</h6>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8
Transfer-Encoding: chunked
Date: Thu, 27 May 2021 15:45:43 GMT
Keep-Alive: timeout=60
Connection: keep-alive
Content-Length: 412

{
  &quot;jobConfigurationId&quot; : 41,
  &quot;jobName&quot; : &quot;simpleJob&quot;,
  &quot;jobSchedulerConfiguration&quot; : {
    &quot;jobSchedulerType&quot; : &quot;PERIOD&quot;,
    &quot;cronExpression&quot; : null,
    &quot;initialDelay&quot; : 100000,
    &quot;fixedDelay&quot; : 100000,
    &quot;taskExecutorType&quot; : &quot;ASYNCHRONOUS&quot;,
    &quot;schedulerStatus&quot; : &quot;INITIALIZED&quot;
  },
  &quot;jobListenerConfiguration&quot; : null,
  &quot;jobParameters&quot; : {
    &quot;parameters&quot; : { }
  },
  &quot;jobIncrementer&quot; : &quot;DATE&quot;
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_get_job_configurations">Get Job Configurations</h5>
<div class="sect5">
<h6 id="_curl_11">Curl</h6>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl 'http://localhost/api/jobconfigurations' -i -X GET \
    -H 'Accept: application/json, application/javascript, text/javascript, text/json'</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_http_request_11">HTTP Request</h6>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">GET /api/jobconfigurations HTTP/1.1
Accept: application/json, application/javascript, text/javascript, text/json
Host: localhost</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_http_response_11">HTTP Response</h6>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8
Transfer-Encoding: chunked
Date: Thu, 27 May 2021 15:45:43 GMT
Keep-Alive: timeout=60
Connection: keep-alive
Content-Length: 951

{
  &quot;jobConfigurations&quot; : [ {
    &quot;jobConfigurationId&quot; : 48,
    &quot;jobName&quot; : &quot;simpleJob&quot;,
    &quot;jobSchedulerConfiguration&quot; : {
      &quot;jobSchedulerType&quot; : &quot;PERIOD&quot;,
      &quot;cronExpression&quot; : null,
      &quot;initialDelay&quot; : 100000,
      &quot;fixedDelay&quot; : 100000,
      &quot;taskExecutorType&quot; : &quot;ASYNCHRONOUS&quot;,
      &quot;schedulerStatus&quot; : &quot;INITIALIZED&quot;
    },
    &quot;jobListenerConfiguration&quot; : null,
    &quot;jobParameters&quot; : {
      &quot;parameters&quot; : { }
    },
    &quot;jobIncrementer&quot; : &quot;DATE&quot;
  }, {
    &quot;jobConfigurationId&quot; : 49,
    &quot;jobName&quot; : &quot;simpleJob&quot;,
    &quot;jobSchedulerConfiguration&quot; : null,
    &quot;jobListenerConfiguration&quot; : {
      &quot;jobListenerType&quot; : &quot;LOCAL_FOLDER_LISTENER&quot;,
      &quot;sourceFolder&quot; : &quot;src/test/resources&quot;,
      &quot;filePattern&quot; : &quot;*_input.txt&quot;,
      &quot;pollerPeriod&quot; : 1000,
      &quot;listenerStatus&quot; : &quot;STOPPED&quot;,
      &quot;taskExecutorType&quot; : &quot;ASYNCHRONOUS&quot;
    },
    &quot;jobParameters&quot; : {
      &quot;parameters&quot; : { }
    },
    &quot;jobIncrementer&quot; : &quot;DATE&quot;
  } ]
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_get_job_configuration_by_job_name">Get Job Configuration By Job Name</h5>
<div class="sect5">
<h6 id="_curl_12">Curl</h6>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl 'http://localhost/api/jobconfigurations/simpleJob' -i -X GET \
    -H 'Accept: application/json, application/javascript, text/javascript, text/json'</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_http_request_12">HTTP Request</h6>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">GET /api/jobconfigurations/simpleJob HTTP/1.1
Accept: application/json, application/javascript, text/javascript, text/json
Host: localhost</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_http_response_12">HTTP Response</h6>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8
Transfer-Encoding: chunked
Date: Thu, 27 May 2021 15:45:43 GMT
Keep-Alive: timeout=60
Connection: keep-alive
Content-Length: 951

{
  &quot;jobConfigurations&quot; : [ {
    &quot;jobConfigurationId&quot; : 43,
    &quot;jobName&quot; : &quot;simpleJob&quot;,
    &quot;jobSchedulerConfiguration&quot; : {
      &quot;jobSchedulerType&quot; : &quot;PERIOD&quot;,
      &quot;cronExpression&quot; : null,
      &quot;initialDelay&quot; : 100000,
      &quot;fixedDelay&quot; : 100000,
      &quot;taskExecutorType&quot; : &quot;ASYNCHRONOUS&quot;,
      &quot;schedulerStatus&quot; : &quot;INITIALIZED&quot;
    },
    &quot;jobListenerConfiguration&quot; : null,
    &quot;jobParameters&quot; : {
      &quot;parameters&quot; : { }
    },
    &quot;jobIncrementer&quot; : &quot;DATE&quot;
  }, {
    &quot;jobConfigurationId&quot; : 44,
    &quot;jobName&quot; : &quot;simpleJob&quot;,
    &quot;jobSchedulerConfiguration&quot; : null,
    &quot;jobListenerConfiguration&quot; : {
      &quot;jobListenerType&quot; : &quot;LOCAL_FOLDER_LISTENER&quot;,
      &quot;sourceFolder&quot; : &quot;src/test/resources&quot;,
      &quot;filePattern&quot; : &quot;*_input.txt&quot;,
      &quot;pollerPeriod&quot; : 1000,
      &quot;listenerStatus&quot; : &quot;STOPPED&quot;,
      &quot;taskExecutorType&quot; : &quot;ASYNCHRONOUS&quot;
    },
    &quot;jobParameters&quot; : {
      &quot;parameters&quot; : { }
    },
    &quot;jobIncrementer&quot; : &quot;DATE&quot;
  } ]
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_add_job_configuration">Add Job Configuration</h5>
<div class="sect5">
<h6 id="_curl_13">Curl</h6>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl 'http://localhost/api/jobconfigurations' -i -X POST \
    -H 'Accept: application/json, application/javascript, text/javascript, text/json' \
    -H 'Content-Type: application/json; charset=UTF-8' \
    -d '{
  &quot;jobConfigurationId&quot; : null,
  &quot;jobName&quot; : &quot;simpleJob&quot;,
  &quot;jobSchedulerConfiguration&quot; : null,
  &quot;jobListenerConfiguration&quot; : {
    &quot;jobListenerType&quot; : &quot;LOCAL_FOLDER_LISTENER&quot;,
    &quot;sourceFolder&quot; : &quot;src/test/resources/input&quot;,
    &quot;filePattern&quot; : &quot;*_input.txt&quot;,
    &quot;pollerPeriod&quot; : 1000,
    &quot;listenerStatus&quot; : &quot;STOPPED&quot;,
    &quot;taskExecutorType&quot; : &quot;SYNCHRONOUS&quot;
  },
  &quot;jobParameters&quot; : null,
  &quot;jobIncrementer&quot; : &quot;DATE&quot;
}'</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_http_request_13">HTTP Request</h6>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">POST /api/jobconfigurations HTTP/1.1
Accept: application/json, application/javascript, text/javascript, text/json
Content-Type: application/json; charset=UTF-8
Host: localhost
Content-Length: 424

{
  &quot;jobConfigurationId&quot; : null,
  &quot;jobName&quot; : &quot;simpleJob&quot;,
  &quot;jobSchedulerConfiguration&quot; : null,
  &quot;jobListenerConfiguration&quot; : {
    &quot;jobListenerType&quot; : &quot;LOCAL_FOLDER_LISTENER&quot;,
    &quot;sourceFolder&quot; : &quot;src/test/resources/input&quot;,
    &quot;filePattern&quot; : &quot;*_input.txt&quot;,
    &quot;pollerPeriod&quot; : 1000,
    &quot;listenerStatus&quot; : &quot;STOPPED&quot;,
    &quot;taskExecutorType&quot; : &quot;SYNCHRONOUS&quot;
  },
  &quot;jobParameters&quot; : null,
  &quot;jobIncrementer&quot; : &quot;DATE&quot;
}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_http_response_13">HTTP Response</h6>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 201 Created
Date: Thu, 27 May 2021 15:45:43 GMT
Keep-Alive: timeout=60
Connection: keep-alive</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_update_job_configuration">Update Job Configuration</h5>
<div class="sect5">
<h6 id="_curl_14">Curl</h6>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl 'http://localhost/api/jobconfigurations' -i -X PUT \
    -H 'Accept: application/json, application/javascript, text/javascript, text/json' \
    -H 'Content-Type: application/json; charset=UTF-8' \
    -d '{
  &quot;jobConfigurationId&quot; : 36,
  &quot;jobName&quot; : &quot;simpleJob&quot;,
  &quot;jobSchedulerConfiguration&quot; : null,
  &quot;jobListenerConfiguration&quot; : {
    &quot;jobListenerType&quot; : &quot;LOCAL_FOLDER_LISTENER&quot;,
    &quot;sourceFolder&quot; : &quot;src/test/resources&quot;,
    &quot;filePattern&quot; : &quot;*_input.txt&quot;,
    &quot;pollerPeriod&quot; : 1000,
    &quot;listenerStatus&quot; : &quot;STOPPED&quot;,
    &quot;taskExecutorType&quot; : &quot;ASYNCHRONOUS&quot;
  },
  &quot;jobParameters&quot; : {
    &quot;parameters&quot; : { }
  },
  &quot;jobIncrementer&quot; : &quot;DATE&quot;
}'</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_http_request_14">HTTP Request</h6>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">PUT /api/jobconfigurations HTTP/1.1
Accept: application/json, application/javascript, text/javascript, text/json
Content-Type: application/json; charset=UTF-8
Host: localhost
Content-Length: 441

{
  &quot;jobConfigurationId&quot; : 36,
  &quot;jobName&quot; : &quot;simpleJob&quot;,
  &quot;jobSchedulerConfiguration&quot; : null,
  &quot;jobListenerConfiguration&quot; : {
    &quot;jobListenerType&quot; : &quot;LOCAL_FOLDER_LISTENER&quot;,
    &quot;sourceFolder&quot; : &quot;src/test/resources&quot;,
    &quot;filePattern&quot; : &quot;*_input.txt&quot;,
    &quot;pollerPeriod&quot; : 1000,
    &quot;listenerStatus&quot; : &quot;STOPPED&quot;,
    &quot;taskExecutorType&quot; : &quot;ASYNCHRONOUS&quot;
  },
  &quot;jobParameters&quot; : {
    &quot;parameters&quot; : { }
  },
  &quot;jobIncrementer&quot; : &quot;DATE&quot;
}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_http_response_14">HTTP Response</h6>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 200 OK
Date: Thu, 27 May 2021 15:45:42 GMT
Keep-Alive: timeout=60
Connection: keep-alive</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_delete_job_configuration">Delete Job Configuration</h5>
<div class="sect5">
<h6 id="_curl_15">Curl</h6>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl 'http://localhost/api/jobconfigurations/jobconfiguration/34' -i -X DELETE \
    -H 'Accept: application/json, application/javascript, text/javascript, text/json'</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_http_request_15">HTTP Request</h6>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">DELETE /api/jobconfigurations/jobconfiguration/34 HTTP/1.1
Accept: application/json, application/javascript, text/javascript, text/json
Host: localhost</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_http_response_15">HTTP Response</h6>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 200 OK
Date: Thu, 27 May 2021 15:45:42 GMT
Keep-Alive: timeout=60
Connection: keep-alive</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_start_job_configuration">Start Job Configuration</h5>
<div class="sect5">
<h6 id="_curl_16">Curl</h6>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl 'http://localhost/api/jobconfigurations/40/start' -i -X GET \
    -H 'Accept: application/json, application/javascript, text/javascript, text/json'</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_http_request_16">HTTP Request</h6>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">GET /api/jobconfigurations/40/start HTTP/1.1
Accept: application/json, application/javascript, text/javascript, text/json
Host: localhost</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_http_response_16">HTTP Response</h6>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 200 OK
Date: Thu, 27 May 2021 15:45:43 GMT
Keep-Alive: timeout=60
Connection: keep-alive</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_stop_job_configuration">Stop Job Configuration</h5>
<div class="sect5">
<h6 id="_curl_17">Curl</h6>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl 'http://localhost/api/jobconfigurations/38/stop' -i -X GET \
    -H 'Accept: application/json, application/javascript, text/javascript, text/json'</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_http_request_17">HTTP Request</h6>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">GET /api/jobconfigurations/38/stop HTTP/1.1
Accept: application/json, application/javascript, text/javascript, text/json
Host: localhost</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_http_response_17">HTTP Response</h6>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 200 OK
Date: Thu, 27 May 2021 15:45:42 GMT
Keep-Alive: timeout=60
Connection: keep-alive</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_remote_repository_2">Remote Repository</h3>

</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2021-05-26 16:17:46 +03:00
</div>
</div>
</body>
</html>